var webengage={};var _weq=_weq||{};(function(a){var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(t==null){return""}var v="";var m,o,q,n,p,r,s;var u=0;t=b.compress(t);while(u<t.length*2){if(u%2==0){m=t.charCodeAt(u/2)>>8;o=t.charCodeAt(u/2)&255;if(u/2+1<t.length){q=t.charCodeAt(u/2+1)>>8}else{q=NaN}}else{m=t.charCodeAt((u-1)/2)&255;if((u+1)/2<t.length){o=t.charCodeAt((u+1)/2)>>8;q=t.charCodeAt((u+1)/2)&255}else{o=q=NaN}}u+=3;n=m>>2;p=((m&3)<<4)|(o>>4);r=((o&15)<<2)|(q>>6);s=q&63;if(isNaN(o)){r=s=64}else{if(isNaN(q)){s=64}}v=v+b._keyStr.charAt(n)+b._keyStr.charAt(p)+b._keyStr.charAt(r)+b._keyStr.charAt(s)}return v},decompressFromBase64:function(v){if(v==null){return""}var A="",x=0,w,f,q,s,p,r,t,u,z=0,y=b._f;v=v.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(z<v.length){p=b._keyStr.indexOf(v.charAt(z++));r=b._keyStr.indexOf(v.charAt(z++));t=b._keyStr.indexOf(v.charAt(z++));u=b._keyStr.indexOf(v.charAt(z++));f=(p<<2)|(r>>4);q=((r&15)<<4)|(t>>2);s=((t&3)<<6)|u;if(x%2==0){w=f<<8;if(t!=64){A+=y(w|q)}if(u!=64){w=s<<8}}else{A=A+y(w|f);if(t!=64){w=q<<8}if(u!=64){A+=y(w|s)}}x+=3}return b.decompress(A)},compress:function(C){if(C==null){return""}var A,x,v={},w={},u="",E="",f="",D=2,B=3,F=2,s="",G=0,z=0,t,y=b._f;for(t=0;t<C.length;t+=1){u=C.charAt(t);if(!Object.prototype.hasOwnProperty.call(v,u)){v[u]=B++;w[u]=true}E=f+u;if(Object.prototype.hasOwnProperty.call(v,E)){f=E}else{if(Object.prototype.hasOwnProperty.call(w,f)){if(f.charCodeAt(0)<256){for(A=0;A<F;A++){G=(G<<1);if(z==15){z=0;s+=y(G);G=0}else{z++}}x=f.charCodeAt(0);for(A=0;A<8;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}else{x=1;for(A=0;A<F;A++){G=(G<<1)|x;if(z==15){z=0;s+=y(G);G=0}else{z++}x=0}x=f.charCodeAt(0);for(A=0;A<16;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}D--;if(D==0){D=Math.pow(2,F);F++}delete w[f]}else{x=v[f];for(A=0;A<F;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}D--;if(D==0){D=Math.pow(2,F);F++}v[E]=B++;f=String(u)}}if(f!==""){if(Object.prototype.hasOwnProperty.call(w,f)){if(f.charCodeAt(0)<256){for(A=0;A<F;A++){G=(G<<1);if(z==15){z=0;s+=y(G);G=0}else{z++}}x=f.charCodeAt(0);for(A=0;A<8;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}else{x=1;for(A=0;A<F;A++){G=(G<<1)|x;if(z==15){z=0;s+=y(G);G=0}else{z++}x=0}x=f.charCodeAt(0);for(A=0;A<16;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}D--;if(D==0){D=Math.pow(2,F);F++}delete w[f]}else{x=v[f];for(A=0;A<F;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}}D--;if(D==0){D=Math.pow(2,F);F++}}x=2;for(A=0;A<F;A++){G=(G<<1)|(x&1);if(z==15){z=0;s+=y(G);G=0}else{z++}x=x>>1}while(true){G=(G<<1);if(z==15){s+=y(G);break}else{z++}}return s},decompress:function(z){if(z==null){return""}if(z==""){return null}var v=[],A,E=4,y=4,B=3,f="",H="",C,u,c,I,G,F,w,x=b._f,D={string:z,val:z.charCodeAt(0),position:32768,index:1};for(C=0;C<3;C+=1){v[C]=C}c=0;G=Math.pow(2,2);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}switch(A=c){case 0:c=0;G=Math.pow(2,8);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}w=x(c);break;case 1:c=0;G=Math.pow(2,16);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}w=x(c);break;case 2:return""}v[3]=w;u=H=w;while(true){if(D.index>D.string.length){return""}c=0;G=Math.pow(2,B);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}switch(w=c){case 0:c=0;G=Math.pow(2,8);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}v[y++]=x(c);w=y-1;E--;break;case 1:c=0;G=Math.pow(2,16);F=1;while(F!=G){I=D.val&D.position;D.position>>=1;if(D.position==0){D.position=32768;D.val=D.string.charCodeAt(D.index++)}c|=(I>0?1:0)*F;F<<=1}v[y++]=x(c);w=y-1;E--;break;case 2:return H}if(E==0){E=Math.pow(2,B);B++}if(v[w]){f=v[w]}else{if(w===y){f=u+u.charAt(0)}else{return null}}H+=f;v[y++]=u+f.charAt(0);E--;u=f;if(E==0){E=Math.pow(2,B);B++}}}};a.LZString=b})(webengage);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=+d||0;if(Math.abs(f)===Infinity){f=0}if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}}if(!Date.prototype.toISOString){(function(){function a(b){if(b<10){return"0"+b}return b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"}}())}webengage.eLog=function(f,h,d,b,m,c){if(f instanceof Error){d=f.stack||f.description;d=(d.length>900?d.substring(0,900):d);b=f.message||d.substring(0,50);h="exception"}if(h){if(c&&m){var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"', 'et':'"+m+"', 'eid':'"+c+"'}"}else{var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"'}"}var g=(h==="error"?"//c.webengage.com/e.jpg":"//c.webengage.com/e.jpg");if(webengage.winUnloading&&h==="error"){return}var k=new Image();k.src=g+"?event="+encodeURIComponent(b)+"&category="+_weq["webengage.licenseCode"]+"&type="+h+"&data="+encodeURIComponent(a)+"&ts="+(new Date()).getTime()}};webengage.withELog=function(c,a,b){if(typeof c==="function"){try{if(!(a instanceof Array)){a=[]}return c.apply(undefined,a)}catch(d){webengage.eLog(d);if(!b){throw d}}}else{throw new Error("WithELog : first argument not a function")}};webengage.setTimeout=function(a,b){return setTimeout(function(){webengage.withELog(a)},b)};webengage.setInterval=function(b,a){return setInterval(function(){webengage.withELog(b)},a)};webengage.setTimeout(function(){(function(d,a,f,c,e){var b=function(){var m=null,n=function(K,J,H){var I=(typeof(H)==="boolean"?H:true);for(var G in J){if(K[G]===e||I){K[G]=J[G]}}return K},z={},D=[],v=false;n(c,{util:{copy:function(I,H,G){return n(I,H,G)},loadScript:function(J,K,G,L){var I=a.createElement("script");I.type="text/javascript";I.charset="UTF-8";I.async=true;I.src=J;I.callBack=K;I.callBackArgs=G||[];I.errorCallBack=L;this.appendChild(I);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&I.readyState){if(typeof K==="function"){var H=function(){if(I.readyState=="loaded"||I.readyState=="complete"){c.withELog(K,G)}};I.defer=true;I.onreadystatechange=H}}else{c.util.addListener(I,"load",function(M){c.withELog(K,G)});c.util.addListener(I,"error",function(M){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+J,"script loading error")}if(typeof L==="function"){c.withELog(L,[M])}})}},createObj:function(H){var I=c,G=H?H.split("."):[];for(var J=0;J<G.length;J++){var L=G[J],K=I[L];if(!K){K={};I[L]=K}I=K}return I},extend:function(G,H){return c.util.copy((typeof G=="string"?c.util.createObj(G):G),H)},isJqueryPresent:function(){return(d.jQuery!==e&&parseFloat("."+d.jQuery().jquery.replace(/\./g,""))>=0.13)},applyCss:function(I,H){try{for(var G in H){if(typeof H[G]=="function"){I.style[G]=H[G]()}else{I.style[G]=H[G]}}}catch(J){}return I},isArray:function(G){return(G&&G.constructor==Array)},inArray:function(G,I){for(var H=0;H<G.length;H++){if(G[H]==I){return true}}return false},getMaxZIndex:function(){if(this.maxZIndex===e){this.maxZIndex=16776271}return this.maxZIndex++},alignCenter:function(J,I,H){var G=(H=="left")?"right":"left";J.style.top=((parseInt(c.util.getElementHeight(I),10)-parseInt(c.util.getElementHeight(J),10))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";J.style[G]=(parseInt(c.util.getElementWidth(I),10)-parseInt(c.util.getElementWidth(J),10))/2+10+"px"},getElementWidth:function(G){if(G.clip!==e){return G.clip.width}else{if(G.style.pixelWidth){return G.style.pixelWidth}else{return G.offsetWidth}}},getElementHeight:function(G){if(G.clip!==e){return G.clip.height}else{if(G.style.pixelHeight){return G.style.pixelHeight}else{return G.offsetHeight}}},isSupportsLocalStorage:function(I){try{var G=(typeof(Storage)!=="undefined"&&"localStorage" in d&&d.localStorage!==null);if(!I&&G){d.localStorage["_we_dm_ios_sup_f_"]="true";d.localStorage.removeItem("_we_dm_ios_sup_f_")}return G}catch(H){return false}},getWindowHeight:function(){return"innerHeight" in d?d.innerHeight:a.documentElement.offsetHeight},getWindowWidth:function(){return"innerWidth" in d?d.innerWidth:a.documentElement.offsetWidth},getDocumentHeight:function(){var G=a.body,H=a.documentElement;return Math.max(G.scrollHeight,G.offsetHeight,H.clientHeight,H.scrollHeight,H.offsetHeight)},getDocumentWidth:function(){var G=a.body,H=a.documentElement;return Math.max(G.scrollWidth,G.offsetWidth,H.clientWidth,H.scrollWidth,H.offsetWidth)},getInitParamValue:function(G,K,H,J){var I=H!==e?H:null;if(G&&G[K]){var L=G[K];if(J){if(c.util.inArray(J,L)){I=L}}else{I=L}}return I},getInitParamValueAsArray:function(G,M,J,L){var K=c.util.getInitParamValue(G,M,J);if(K&&typeof(K)!="object"){K=K.split(/\s*,\s*/)}if(L&&typeof(L)=="object"){var H=[];for(var I=0;I<K.length;I++){if(c.util.inArray(L,K[I])){H[H.length]=K[I]}}K=H}return K},setCookie:function(H,N,I,P,K,G,J){if(c.util.isSupportsLocalStorage()&&!J){try{d.localStorage[H]=N;return"ls"}catch(L){d.localStorage.removeItem(H);return c.util.setCookie(H,N,I,P,K,G,true)}}else{if(c.util.isSupportsLocalStorage(true)&&!J){d.localStorage.removeItem(H)}var M=new Date();M.setTime(M.getTime());if(I){I=I*1000*60*60*24}var O=new Date(M.getTime()+(I));a.cookie=H+"="+encodeURIComponent(N)+((I)?";expires="+O.toGMTString():"")+((P)?";path="+P:"")+((K)?";domain="+K:"")+((G)?";secure":"");return"ck"}},getCookie:function(G,I){if(c.util.isSupportsLocalStorage(true)&&!I){return(d.localStorage[G]?d.localStorage[G]:c.util.getCookie(G,true))}else{var M=a.cookie.split(";");var H="";var K="";var L="";var J=false;for(i=0;i<M.length;i++){H=M[i].split("=");K=H[0].replace(/^\s+|\s+$/g,"");if(K==G){J=true;if(H.length>1){L=decodeURIComponent(H[1].replace(/^\s+|\s+$/g,""))}return L===null?"":L}H=null;K=""}if(!J){return null}}},addListener:function(G,H,I){if(G.addEventListener){G.addEventListener(H,I,false)}else{if(G.attachEvent){G.attachEvent("on"+H,I)}}},removeListener:function(G,H,I){if(G.removeEventListener){G.removeEventListener(H,I)}else{if(G.detachEvent){G.detachEvent("on"+H,I)}}},bindEvent:function(G,H){c.util.addListener(d,G,H)},unbindEvent:function(G,H){c.util.removeListener(d,G,H)},getCurrentTime:function(H){var K=new Date();var I=K.getTime();if(H!==e){var J=K.getTimezoneOffset()*60000;var G=I+J;I=G+(1000*H)}return I},getCurrentWeekDay:function(H){var G=w.getCurrentTime();var I=new Date(G);return I.getDay()},setWebengageCookie:function(H){var K=(function(){var L=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return((new Date().getTime())+L()+L()+L()+L())})();var J=H||{};var I={time:(new Date()).getTime(),luid:K};J=this.copy(J,I,false);var G=this.stringify(J);z._we_wk_ls_=J;this.setCookie("_we_wk_ls_",c.LZString.compressToBase64(G),99999,"/","","");if(this.firstTimeUser===e){this.firstTimeUser=true}return J},getWebengageCookie:function(){var G=z._we_wk_ls_;if(!G){var H=this.getCookie("_we_wk_ls_")||this.getCookie("_we_wk_ls_",true);if(H){if(H.charAt(0)!=="{"){H=c.LZString.decompressFromBase64(H)}if(this.isSupportsLocalStorage()&&this.getCookie("_we_wk_ls_",true)){this.setCookie("_we_wk_ls_",H,-1,"/","","",true);this.setCookie("_we_wk_ls_",H,99999,"/","","")}G=z._we_wk_ls_=new Function("return "+H)()||null}else{G=this.setWebengageCookie()}}return G},setSessionCookie:function(J,K){var H={referrer:a.referrer,isFirstTime:this.isFirstTimeUser(),sst:(new Date()).getTime(),pvc:0,suid:(new Date().getTime()),landingPage:d.location.href};var I=J||{};I=this.copy(I,H,false);if(!this.isSupportsLocalStorage()&&I.landingPage){delete I.landingPage}var L=this.stringify(I);z._we_wk_ss_=I;var G=this.setCookie("_we_wk_ss_",c.LZString.compressToBase64(L),"","/","","");if(this.isSupportsLocalStorage()){if(G==="ls"){this.setCookie("_we_wk_ss_lsf_",true,"","/","","",true)}else{this.setCookie("_we_wk_ss_lsf_",false,"","/","","",true)}}if(typeof K==="boolean"&&true){this.updateTSC()}return I},getSessionCookie:function(){var H=z._we_wk_ss_;if(!H){var K=this.getCookie("_we_wk_ss_")||this.getCookie("_we_wk_ss_",true);if(K){try{if(K.charAt(0)!=="{"){K=c.LZString.decompressFromBase64(K)}if(this.isSupportsLocalStorage()){var J=this.getCookie("_we_wk_ss_lsf_",true);if(!J||J==="false"){var G=this.getCookie("_we_wk_ss_",true);if(G){this.setCookie("_we_wk_ss_",K,-1,"/","","",true);this.setSessionCookie(G)}else{throw new Error()}}}H=z._we_wk_ss_=(new Function("return "+K)())||null}catch(I){H=this.setSessionCookie(null,true)}}else{H=this.setSessionCookie(null,true)}}return H},updateSessionCookie:function(H){var G=this.getSessionCookie();if(G){this.copy(G,(H||{}));this.setSessionCookie(G)}else{G=this.setSessionCookie(null,true)}return G},updateTSC:function(){var G=this.getWebengageCookie();G.sc=G.sc||0;G.sc++;return this.setWebengageCookie(G)},updateTPVC:function(){var G=this.getWebengageCookie();G.tpvc=G.tpvc||0;G.tpvc++;return this.setWebengageCookie(G)},setLST:function(){var G=this.getWebengageCookie();G.lst=(new Date()).getTime();return this.setWebengageCookie(G)},setGZIPFlag:function(H){var G=this.getWebengageCookie();G.isGzip=H||false;return this.setWebengageCookie(G)},setVTD:function(){var G=this.getSessionCookie();G.vtd=1;return this.updateSessionCookie(G)},updateSessionCookieGeoData:function(){var G={country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0)};return this.updateSessionCookie(G)},getClientPageUrl:function(){return d.location.href},getClientPageHost:function(){return d.location.host},escapeScopeChars:function(G){return(G+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(G){return(G+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(this.firstTimeUser!==e)?this.firstTimeUser:false},escapeNewLine:function(G){return G.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},stringify:function(L){if(typeof JSON!=="undefined"&&typeof JSON.stringify==="function"){return JSON.stringify(L)}else{var J=typeof(L);if(J!=="undefined"){if(J!="object"||L===null){if(J=="string"){L='"'+this.escapeNewLine(L)+'"'}return String(L)}else{var I=[],G=(L&&L.constructor==Array),K=(L&&L instanceof Date);if(G){for(var H=0;H<L.length;H++){var M=this.stringify(L[H]);if(typeof M!=="undefined"){I.push(M)}}}else{if(K){return K.toString()}else{for(var N in L){var M=this.stringify(L[N]);if(typeof M!=="undefined"){I.push('"'+N+'":'+M)}}}}return(G?"[":"{")+String(I)+(G?"]":"}")}}}},trimStr:function(G){if(typeof G.trim==="function"){return G.trim()}else{if(typeof G==="string"){return G.replace(/^\s+|\s+$/g,"")}}return G},clientDataString:function(M){var J=function(P){var N=P;if(typeof P==="function"){try{N=P()}catch(O){N=null}}return N};if(typeof M==="object"){for(var I in M){var K=M[I];if(K===e||(typeof K!=="boolean"&&K!==0&&!K)){delete M[I];continue}if(!(K instanceof Array)){M[I]=new Array();var L=J(K);if(L===e||(typeof L!=="boolean"&&L!==0&&!L)){delete M[I]}else{M[I].push(L)}}else{var G=[];for(var H=0;H<K.length;H++){K[H]=J(K[H]);if(!(K[H]===e||(typeof K[H]!=="boolean"&&K[H]!==0&&!K[H]))){G.push(K[H])}}if(G.length>0){M[I]=G}else{delete M[I]}}}}return c.util.stringify(M)},isColorTooLight:function(H){H=H.indexOf("#")===0?H.substr(1,H.length):H;var J=parseInt(H.substr(0,2),16);var I=parseInt(H.substr(2,2),16);var G=parseInt(H.substr(4,2),16);var K=((J*299)+(I*299)+(G*299))/1000;return K>=128},isEmptyObject:function(G){for(var H in G){if(G.hasOwnProperty(H)){return false}}return true},parseJSON:function(G){return new Function("return "+G+";")()},bind:function(L,J){var M=this;var K=M.callbacks||{};if(L!==e&&typeof(J)==="function"){var N=J;J=function(){return N.apply(this,arguments)};J.cbid=(N.cbid=M.cbid++);L=(L||"").match(/\S+/g)||[""];var I=L.length;while(I--){var H=L[I];var G=K[H]||{};G[J.cbid]=J;K[H]=G}M.callbacks=K}return M},unbind:function(G,H){var I=this;if(G!==e){if(typeof(I.callbacks)==="object"&&typeof(I.callbacks[G])==="object"){if(typeof(H)==="function"&&H.cbid){delete I.callbacks[G][H.cbid]}else{delete I.callbacks[G]}}}return I},executeCallbacks:function(){var J=this;if(typeof J.enableCallbacks==="boolean"&&J.enableCallbacks){var G=arguments[0];if(G!==e&&typeof J.callbacks==="object"&&typeof J.callbacks[G]==="object"){for(var H in J.callbacks[G]){if(typeof J.callbacks[G][H]==="function"){var I=J.callbacks[G][H].apply(this,Array.prototype.slice.call(arguments,1));if(typeof I==="boolean"&&!I){return false}}}}}},markSurveyAsClosed:function(I,H){if(I){try{var G=c.util.getSessionCookie();if(G.closedSurveys===e||!G.closedSurveys){G.closedSurveys=""}if(G.closedSurveys.indexOf("##"+I)<0){G.closedSurveys+="##"+I}c.util.updateSessionCookie(G);if(H&&typeof H.dump==="function"){H.dump("close")}}catch(J){}}},markSurveyAsTaken:function(J,I,H){if(J){try{var L=true;var G=c.util.getWebengageCookie();if(G.takenSurveys===e||!G.takenSurveys){G.takenSurveys=""}if(G.takenSurveys.indexOf("##"+J)<0){G.takenSurveys+="##"+J;L=false}c.util.setWebengageCookie(G);if(I&&typeof I.dump==="function"&&H&&typeof H==="boolean"&&H){I.event=I.event||"submit";if(I.event==="submit"&&!L){I.dump(I.event)}else{if(I.event==="complete"){I.dump(I.event)}}}}catch(K){}}},markEntityAsShown:function(L,H,M,P){if(L&&H){var G=1,I=1;try{var J=c.util.getWebengageCookie(),Q=c.util.getSessionCookie(),O=(("notification"===H)?(P&&P===true?"anids":"seenNIds"):(("survey"===H)?(P&&P===true?"asids":"seenSIds"):null));whatToLookInSC=(("notification"===H)?(P&&P===true?"anids":"snids"):(("survey"===H)?(P&&P===true?"asids":"ssids"):null));if(O&&whatToLookInSC){J[O]=J[O]&&J[O]!==e?J[O]:"";if(J[O].indexOf("##"+L)<0){J[O]+="##"+L+"="+G}else{var N=new RegExp("##"+L+"=(\\d+)","g");J[O]=J[O].replace(N,function(R,S){G=(+S+1);return"##"+L+"="+G})}Q[whatToLookInSC]=Q[whatToLookInSC]&&Q[whatToLookInSC]!==e?Q[whatToLookInSC]:"";if(Q[whatToLookInSC].indexOf("##"+L)<0){Q[whatToLookInSC]+="##"+L+"="+I}else{var N=new RegExp("##"+L+"=(\\d+)","g");Q[whatToLookInSC]=Q[whatToLookInSC].replace(N,function(R,S){I=(+S+1);return"##"+L+"="+I})}c.util.updateSessionCookie(Q);c.util.setWebengageCookie(J)}}catch(K){}}},markNotificationAsClicked:function(J,K,H){if(J){try{var G=c.util.getWebengageCookie();G.takenNIds=G.takenNIds&&G.takenNIds!==e?G.takenNIds:"";if(G.takenNIds.indexOf("##"+J)<0){G.takenNIds+="##"+J}c.util.setWebengageCookie(G);if(H&&typeof H.dump==="function"){H.dump("click")}}catch(I){}}},markNotificationAsClosed:function(J,H){if(J){try{var G=c.util.getSessionCookie();if(G.closedNIds===e||!G.closedNIds){G.closedNIds=""}if(G.closedNIds.indexOf("##"+J)<0){G.closedNIds+="##"+J}c.util.updateSessionCookie(G);if(H&&typeof H.dump==="function"){H.dump("close")}}catch(I){}}},setMinimizedState:function(G,I,K){var J=(G==="notification"?"minNIds":"minSIds");if(I){try{var H=c.util.getSessionCookie();if(H[J]===e||!H[J]){H[J]=""}if(K){if(H[J].indexOf("##"+I)<0){H[J]+="##"+I}}else{H[J]=H[J].replace("##"+I,"")}c.util.updateSessionCookie(H)}catch(L){}}},getMinimizedState:function(G,I){var J=(G==="notification"?"minNIds":"minSIds");var K=false;if(I){try{var H=c.util.getSessionCookie();if(H[J]!==e){if(0<=H[J].indexOf("##"+I)){K=true}}}catch(L){}}return K},getVersion:function(){return s.widgetVersion},usckwl:function(I){var H=c.util.getSessionCookie();H.pvc=(H.pvc?H.pvc+1:1);if(I&&a.referrer&&(!H.referrer||H.referrer!==a.referrer)){var G=a.referrer.match(/:\/\/(.[^\/]+)/)[1];if(!G.match(new RegExp(c.util.escapeForRegExp(I)+"$","gi"))){H.referrer=a.referrer}}c.util.updateSessionCookie(H)},getHashCode:function(K){var I=0,H,G,J=K||"";if(J.length==0){return I}for(H=0,l=J.length;H<l;H++){G=J.charCodeAt(H);I=((I<<5)-I)+G;I|=0}return I},getTotalTimesShown:function(M,I,H,P){var G=0;if(M&&I){var O=null,K=null;if(H){O=w.getSessionCookie();K=(("notification"===I)?(P&&P===true?"anids":"snids"):(("survey"===I)?(P&&P===true?"asids":"ssids"):null))}else{O=w.getWebengageCookie();K=(("notification"===I)?(P&&P===true?"anids":"seenNIds"):(("survey"===I)?(P&&P===true?"asids":"seenSIds"):null))}if(O&&K&&O[K]){try{var N=new RegExp("##"+M+"=(\\d+)");var J=O[K].match(N);if(J instanceof Array&&J.length>1){G=parseInt(J[1],10)}}catch(L){}}}return G},attachEventListners:function(J,G){var H=(J==="survey"?c.survey.callbacks:(J==="feedback"?c.feedback.callbacks:c.notification.callbacks));if(typeof H!==e&&H){for(eventName in H){var I=H[eventName];if(typeof callbacks!=e&&I){for(_cbid in I){this.bind.apply(G,[eventName,I[_cbid]])}}}}},hasSVG:function(){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},onDocReady:function(G){if(typeof G==="function"){if(a.body){c.withELog(function(){G()});return}if(a.addEventListener){a.addEventListener("DOMContentLoaded",function(){c.withELog(function(){a.removeEventListener("DOMContentLoaded",arguments.callee,false);G()})},false)}else{if(a.attachEvent){a.attachEvent("onreadystatechange",function(){c.withELog(function(){if(a.readyState==="complete"){a.detachEvent("onreadystatechange",arguments.callee);G()}})});if(a.documentElement.doScroll&&d==d.top){(function(){c.withELog(function(){try{a.documentElement.doScroll("left")}catch(H){setTimeout(arguments.callee,0);return}G()})})()}}}}},abortAllInstances:function(G){c.withELog(function(){if(G.length>0){for(var H=0;H<G.length;H++){if(typeof G[H].abort==="function"){G[H].abort()}}}})},abortInstance:function(G){c.withELog(function(){if(G){if(typeof G.close==="function"){G.close()}else{G.onLoad(function(){this.close()})}}})},uwats:function(){if(!f["webengage.isDemoMode"]){if(!webengage_fs_configurationMap.lastWidgetCheckDate||Math.floor((Math.random()*100)+1)<=10){var G=1000*60*60*24;var I=new Date().getTime()-(7*G);if(webengage_fs_configurationMap.lastWidgetCheckDate){var H=new Date(webengage_fs_configurationMap.lastWidgetCheckDate);if(H<I){c.eLog(null,"info",H.getTime(),"widget-verified")}}else{c.eLog(null,"info","no-check-date","widget-verified")}}}},isSmallScreen:function(){var G=480,H=d.screen.availWidth;return(H<=G?true:false)},webklitWorkAround:function(G){var H=a.body.scrollTop||0;if(a.location.toString().match(/#(top)?$/)){G.body.scrollTop=0;a.body.scrollTop=H}},getWeDataContainer:function(){return s.weDataContainer},withWeJquery:function(G){c.jQSt=c.jQSt||0;switch(c.jQSt){case 1:setTimeout(function(){c.util.withWeJquery(G)},100);break;case 2:if(typeof G==="function"){G()}break;default:c.jQSt=1;c.util.loadScript.apply(s.widgetContainer,[s.weJquery,function(){$weJQuery=jQuery.noConflict(true);c.jQSt=2;if(typeof G==="function"){G()}}]);break}},tsTracking:function(H,I){if(H){var G=new Image();G.src="//"+s.tstbu+H+(I?"?"+I:"")}},isElementExists:function(H){var G=(H);if(G&&H.nodeType&&H.nodeType===1){G=(H.style&&((H.style.display&&H.style.display==="none")||(H.style.visibility&&H.style.visibility==="hidden")))?false:true}return G},onReady:function(G){if(typeof G==="function"){if(v){G()}else{D[D.length]=G}}},getServerTimeStamp:function(){var G=w.getSessionCookie();return((new Date()).getTime()+(G&&G.tsD&&!isNaN(G.tsD)?parseInt(G.tsD,10):0))},transitConvert:function(I){var H=[];function G(M){if(M===null){return null}else{if(Object.prototype.toString.call(M)==="[object String]"){if(M.charAt(0)=="~"){return"~"+M}else{return M}}else{if(Object.prototype.toString.call(M)==="[object Date]"){return"~t"+M.toISOString()}else{if(Object.prototype.toString.call(M)==="[object Array]"){var K=M.length;for(var J=0;J<K;J++){M[J]=G(M[J])}return M}else{if(Object.prototype.toString.call(M)==="[object Object]"){if(H.indexOf(M)==-1){H.push(M);for(var L in M){if(M.hasOwnProperty(L)){M[L]=G(M[L])}}return M}else{throw new Error("There is some circular references while converting data into transit format")}}else{return M}}}}}}return G(I)}}},true);n(c,{getWidgetVersion:function(){return f["webengage.widgetVersion"]||"4.0"}},true);var w=c.util;var s={widgetVersion:"4",weJquery:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js",baseWebEngageUrl:"//webengage.com",feedbackAppHost:"feedback.webengage.com",surveyAppHost:"survey.webengage.com",widgetDomain:"//d3701cc9l7v9a6.cloudfront.net",baseStaticUrl:"//d3701cc9l7v9a6.cloudfront.net",loadSurveyWidgetUrl:function(G){return"/js/widget/we-survey-widget-"+(G?G:"~483819f")+"-v-4.0.js?v=463.0"},loadSurveyWidgetUrlv3:"/js/widget/we-survey-widget.js?v=463.0",notificationWidgetScriptUrl:"/js/widget/we-notification-widget-v-4.1.js?v=463.0",findAllTakenSurveysUrl:function(){return"//survey.webengage.com/publisher-widget-loader.html?action=findAllTakenSurveys&licenseCode="+f["webengage.licenseCode"]+"&url="+encodeURIComponent(w.getClientPageUrl())},widgetContainerId:"webklipper-publisher-widget-container",feedbackImageBaseUrl:"//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/feedbacktab/",loadFeedbackWidgetUrl:"/js/widget/we-feedback-widget-v-4.0.js?v=463.0",loadFeedbackWidgetUrlv3:"/js/widget/we-feedback-widget.js?v=463.0",gaCallbacksScriptUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/ga-callbacks-helper.js?v=463.0",tstbu:"c.webengage.com",csUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/we-conversion-helper-min-v-1.0.js?v=463.0"};var E={};w.extend("logger",(function(){var H={containerCss:{position:function(){return c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(w.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},G=function(S,R){var K=a.getElementById("webengage-error-messages");if(K){K.parentNode.removeChild(K)}var M=a.createElement("div");M.setAttribute("id","webengage-error-messages");M=w.applyCss(M,H.containerCss);a.body.insertBefore(M,null);var Q=a.createElement("div");Q=w.applyCss(Q,H.closeButtonCss);Q.innerHTML="x";M.appendChild(Q);Q.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var J=a.createElement("div");J=w.applyCss(J,H.dataDivCss);M.appendChild(J);J.innerHTML=S;var N=J.getElementsByTagName("a");if(N&&N.length>0){for(var O=0;O<N.length;O++){w.applyCss(N[O],H.dataDivLinkCss);var L=N[O].getAttribute("href");var I=L.split("#");var P=I[0];P=P.indexOf("?")<0?(P+"?"):P;P=P+"&ref=widget-message";P=I.length==2?(P+"#"+I[1]):P;N[O].setAttribute("href",P)}}c.eLog(null,R,S,S);setTimeout(function(){M.remove()},5000);return M};return{success:function(I){return G(I,"success")},warn:function(I){return G(I,"warn")},error:function(I){return G(I,"error")}}})());w.extend("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},serverTimeStamp:function(){return this._serverTimeStamp},ip:function(){return this._ip||""},setGeoData:function(I){var H=this,G=I||{};H._country=G.geoplugin_countryName||"";H._country_code=G.geoplugin_country_code||"";H._region=G.geoplugin_region||"";H._city=G.geoplugin_city||"";H._latitude=G.geoplugin_latitude||"";H._longitude=G.geoplugin_longitude||"";H._serverTimeStamp=G.serverTimeStamp;H._ip=G.clientIp;c.getUser().country=H._country;c.getUser().city=H._city;c.getUser().ip=H._ip},isGeoLoaded:function(){return this._isLoaded?this._isLoaded:w.getSessionCookie().tsD?true:false},load:function(J,G){var H=this;if(!this.isGeoLoaded()){var I="//geoservice.webengage.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.setGeoData")+(f["webengage.aip"]===true?"&aip=1":"");w.loadScript.apply(s.widgetContainer,[I,function(){w.updateSessionCookieGeoData();H._isLoaded=true;if(typeof J==="function"){J()}},null,function(){if(typeof G==="function"){G()}}])}else{H._isLoaded=true;if(typeof J==="function"){J()}}}});w.extend("BrowserDetect",(function(){var J,L,H,N=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:d.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Windows,Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],K=[{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],I=[{string:navigator.userAgent,subString:"iPhone",identity:"Mobile"},{string:navigator.userAgent,subString:"iPod",identity:"Mobile"},{string:navigator.userAgent,subString:"Android,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Mobile"},{string:navigator.userAgent,subString:"BlackBerry,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"BB10,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Android",identity:"Tablet"},{string:navigator.userAgent,subString:"iPad",identity:"Tablet"},{string:navigator.userAgent,subString:"Windows,Tablet",identity:"Tablet"}],G=function(V){for(var R=0;R<V.length;R++){var S=V[R].string;var U=V[R].prop;this._versionSearchString=V[R].versionSearch||V[R].identity;if(S){var T=V[R].subString.split(",");var Q=false;for(var P=0;P<T.length;P++){if(S.indexOf(T[P])==-1){Q=false;break}Q=true}if(Q){return V[R].identity}}else{if(U){return V[R].identity}}}},M=function(R){var Q=R.indexOf(this._versionSearchString);if(Q==-1){return}var P=parseFloat(R.substring(Q+this._versionSearchString.length+1));if(J=="Explorer"&&7<=P){if(R.indexOf("Trident/4")!=-1){P=8}else{if(R.indexOf("Trident/5")!=-1){P=9}else{if(R.indexOf("Trident/6")!=-1){P=10}}}}return P},O=function(){if(J&&L&&H){return}J=G(N)||"An unknown browser";L=M(navigator.userAgent)||M(navigator.appVersion)||"an unknown version";H=G(K)||"an unknown OS";_device=G(I)||(w.isSmallScreen()?"Mobile":"Desktop")};return{browser:function(){return O()||J},version:function(){return O()||L},os:function(){return O()||H},device:function(){return O()||_device},is_this_the_worlds_most_annoying_browser:function(){return(typeof a.all!=="undefined"&&!d.opera&&!d.XMLHttpRequest)},ie:function(){return O()||J=="Explorer"},isMobile:function(){var R=this.os(),P=false,S=["iOS","Android","Windows Phone","Mobile"];for(var Q=0;Q<S.length;Q++){if(R==S[Q]){P=true;break}}return P}}})());var B={onRun:function(G){return this.bind("run",G)},onLoad:function(G){return this.bind("load",G)},onOpen:function(G){return this.bind("open",G)},onView:function(G){return this.bind("view",G)},onSubmit:function(G){return this.bind("submit",G)},onClick:function(G){return this.bind("click",G)},onComplete:function(G){return this.bind("complete",G)},onClose:function(G){return this.bind("close",G)},onDump:function(G){return this.bind("dump",G)},bind:function(){return w.bind.apply(this,arguments)},unbind:function(){return w.unbind.apply(this,arguments)},executeCallbacks:function(){return w.executeCallbacks.apply(this,arguments)}};w.extend("",(function(){var G=function(){var K=w.getWebengageCookie(),I=w.getSessionCookie(),L={license_code:m,suid:I.suid,luid:K.luid},J={wv:w.getVersion(),tzo:(E.configurationMap.tzo||0),ust:K.time,lst:K.lst,sc:K.sc,tpvc:K.tpvc,ref:I.referrer,sst:I.sst,pvcs:I.pvc,pageTitle:a.title,pageURL:d.location.href,viewportHeight:w.getWindowHeight(),viewportWidth:w.getWindowWidth(),ver:2};if(I.landingPage){J.lp=I.landingPage}L.system_data=J;return L},H=function(L,N,M){var J="//c.webengage.com"+L;try{if(c.BrowserDetect.ie()){throw new Error("This browser does not support XMLHttpRequest.")}var R=d.XMLHttpRequest;if(typeof R==="undefined"){R=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(W){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(W){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(W){}throw new Error("This browser does not support XMLHttpRequest.")}}var S=new R();var I=N?"POST":"GET";S.open(I,J,true);S.onreadystatechange=function(){if(S.readyState==4){if(S.status==200){if(M&&typeof M==="function"){M()}}}};S.setRequestHeader("Content-type","application/x-www-form-urlencoded");var U=Object.keys(N).map(function(W){return encodeURIComponent(W)+"="+encodeURIComponent(N[W])}).join("&");S.send(U)}catch(Q){try{var P=a.createElement("iframe");var O="WE_XHR_POST_IFRM";a.body.appendChild(P);P.style.display="none";P.contentWindow.name=O;var K=a.createElement("form");K.target=O;K.action=J;K.method="POST";for(var V in N){var T=a.createElement("input");T.type="hidden";T.name=V;T.value=N[V];K.appendChild(T)}a.body.appendChild(K);K.submit();P.onload=function(){if(P.parentNode){P.parentNode.removeChild(P)}}}catch(Q){}}};return{dump:function(I,L,M){var K=G();K.system_data=w.copy(K.system_data||{},M||{},true);K.event_data=w.copy({},(L||{}),true);K.category=M?"system":"application";K.event_name=(I||"unknown");if(f["webengage.aip"]===true){K.system_data["aip"]=1}K=w.transitConvert(K);var J=w.stringify(K);J=c.LZString.compressToBase64(J);H("/l3.jpg",{data:J})}}})());w.extend("feedback",(function(){var G=[];return{cbid:1,getMobileLoadingDiv:function(I){var H=a.createElement("div");H.id=I||s.widgetContainerId+"-loading";H=c.util.applyCss(H,{position:"fixed",left:(c.util.getWindowWidth()*0.05)+"px",width:(c.util.getWindowWidth()*0.9)+"px",opacity:"1",background:"#f9f9f9",color:"#666","z-index":c.util.getMaxZIndex(),textAlign:"center","padding-top":"20px","padding-bottom":"20px",fontFamily:"Arial, sans-serif",fontSize:"10px",display:"none"});return H},getLoadingDiv:function(I){var H=a.createElement("div");H.id=I||s.widgetContainerId+"-loading";H=c.util.applyCss(H,{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"});return H},getLightBoxBaseDiv:function(){var H=a.createElement("div");c.util.applyCss(H,{display:"block",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),position:"absolute",overflow:"hidden",top:"0",left:"0",height:a.body.scrollHeight+"px",width:"100%","background-color":"rgba(0, 0, 0, .85)"});H.id=s.widgetContainerId+"-base";return H},getLightBoxContainerDiv:function(){var I=a.createElement("div");c.util.applyCss(I,{display:"block",top:"0",left:"0",width:"100%",height:c.util.getWindowHeight()+"px",position:"absolute",outline:"none !important","-webkit-backface-visibility":"hidden",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),"-webkit-overflow-scrolling":"touch"});I.setAttribute("tabIndex",-1);I.id=s.widgetContainerId+"-light-box-container";var H=a.createElement("div");c.util.applyCss(H,{display:"block","text-align":"center",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",outline:"none !important","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"0 8px",margin:"0","overflow-y":"auto","overflow-x":"hidden"});H.id=s.widgetContainerId+"-light-box-content";I.appendChild(H);return I},render:function(H){return c.withELog(function(){return(new function(){c.feedback.clear();var V=this;V.cbid=1;G[G.length]=V;V.abort=function(){w.abortInstance(this)};V._feedbackOptions={launchType:f["webengage.feedback.launchType"]||"",externalLinkId:f["webengage.feedback.externalLinkId"]||"",alignment:f["webengage.feedback.alignment"]||"",borderColor:f["webengage.feedback.borderColor"]||"",backgroundColor:f["webengage.feedback.backgroundColor"]||"",snapshotEnabled:f["webengage.feedback.snapshotEnabled"]||"",defaultCategory:f["webengage.feedback.defaultCategory"]||"",showAllCategories:(typeof f["webengage.feedback.showAllCategories"]==="boolean"&&!f["webengage.feedback.showAllCategories"])?false:true,showForm:f["webengage.feedback.showForm"]||false,isDemoMode:f["webengage.feedback.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:f["webengage.feedback.customData"]||f["webengage.customData"]||{},formData:f["webengage.feedback.formData"]||f["webengage.formData"]||[],enableCallbacks:f["webengage.feedback.enableCallbacks"]||f["webengage.enableCallbacks"]||false,language:f["webengage.language"]||""};if(H!==e&&H.data!==e&&H.data){var ao=H.data;if(ao.name!==e&&ao.name){V._feedbackOptions.formData.push({name:"name",value:ao.name})}if(ao.email!==e&&ao.email){V._feedbackOptions.formData.push({name:"email",value:ao.email})}if(ao.category!==e&&ao.category){V._feedbackOptions.formData.push({name:"category",value:ao.category})}}var M={feedbackLaunchType:"launchType",feedbackExternalLinkId:"externalLinkId",feedbackButtonAlignment:"alignment",feedbackButtonBorderColor:"borderColor",feedbackButtonBackgroundColor:"backgroundColor",defaultFeedbackCategory:"defaultCategory",showAllFeedbackCategories:"showAllCategories",showFeedbackForm:"showForm",data:"customData",demo:"isDemoMode"};if(H!==e&&!w.isEmptyObject(H)){for(var I in H){var ak=M[I];if(ak!==e&&ak){H[ak]=H[I];delete H[I]}}}if(H&&H.customData){V._feedbackOptions.customData=w.copy(V._feedbackOptions.customData,H.customData,true);delete H.customData}if(H&&H.ruleData){V._feedbackOptions.ruleData=w.copy(V._feedbackOptions.ruleData,H.ruleData,true);delete H.ruleData}V._feedbackOptions=w.copy(V._feedbackOptions,(H?H:{}),true);V.enableCallbacks=(typeof V._feedbackOptions.enableCallbacks==="boolean"?V._feedbackOptions.enableCallbacks:false);w.copy(V,B,true);V.onLoad((V._feedbackOptions.onLoad||f["webengage.feedback.onLoad"]));V.onSubmit((V._feedbackOptions.onSubmit||f["webengage.feedback.onSubmit"]));V.onClose((V._feedbackOptions.onClose||f["webengage.feedback.onClose"]));V.onOpen((V._feedbackOptions.onOpen||f["webengage.feedback.onOpen"]));w.attachEventListners("feedback",V);var ab=(c.BrowserDetect.isMobile()||w.isSmallScreen());var aj=((typeof(E.feedback.config.showMobile)=="undefined")?true:E.feedback.config.showMobile);if((E.feedback&&(E.feedback.isEnabled||V._feedbackOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isFQuotaOver)&&((ab&&aj)||!ab)){var W=E.feedback.config,af={alignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+s.baseStaticUrl+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:s.feedbackImageBaseUrl+W.imgPath,sizeCss:{height:W.imgHeight+"px",width:W.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(c.BrowserDetect.ie()?"349px":"345px")},ah={getButtonCssBasedOnConfig:function(aq,ar){var ap={};ap=w.copy(ap,af.sizeCss);if(aq=="left"){ap=w.copy(ap,af.leftCss)}else{ap=w.copy(ap,af.rightCss)}if(ar){ap=w.copy(ap,af.tabCssWithIcon)}return ap},getContainerCssBasedOnConfig:function(aq){var ap={};ap=w.copy(ap,af.containerCss);if(aq=="right"){ap=w.copy(ap,af.containerRightCss)}else{ap=w.copy(ap,af.containerLeftCss)}return ap},getCloseCssBasedOnConfig:function(aq){var ap={};if(aq=="right"){ap=w.copy(ap,af.rightCloseCss)}else{ap=w.copy(ap,af.leftCloseCss)}return ap},getButtonCssBasedOnBackgroundColor:function(aq){var ap={};if(w.isColorTooLight(aq)){ap=w.copy(ap,{backgroundImage:("url('"+af.feedbackBgImageForLightBackground+"')")})}else{ap=w.copy(ap,{backgroundImage:("url('"+af.feedbackBgImageForDarkBackground+"')")})}return ap},getCustomTextImageCss:function(){var ap={};ap=w.copy(ap,{backgroundImage:("url('"+af.feedbackTextImage+"')")});return ap}},ae=(W.closeImg===e||W.closeImg===null||W.closeImg==="")?(s.baseStaticUrl+"/images/icons/feedback-widget-close.png"):("//s3-ap-southeast-1.amazonaws.com/"+W.closeImg),ad=w.getInitParamValue(V._feedbackOptions,"alignment",W.alignment,af.alignment),P=w.getInitParamValueAsArray(V._feedbackOptions,"launchType",W.launchType,af.launchTypes),O=w.getInitParamValueAsArray(V._feedbackOptions,"externalLinkId",W.externalLinkId),T=w.getInitParamValue(V._feedbackOptions,"backgroundColor",W.backgroundColor),am=w.getInitParamValue(V._feedbackOptions,"borderColor",W.borderColor),ag=w.getInitParamValue(V._feedbackOptions,"snapshotEnabled",((W.snapshotEnabled===e)?true:W.snapshotEnabled)),ai=w.inArray(P,af.launchTypes[0]),X=W.imgWidth,R=W.imgHeight,U=W.showWeIcon;T=T.indexOf("#")===0?T:("#"+T);am=am.indexOf("#")===0?am:("#"+am);var aa=a.createElement("div");s.widgetContainer.appendChild(aa);aa.setAttribute("id",s.widgetContainerId+"-content");var an=aa.style;an.borderColor=am;aa=w.applyCss(aa,af.containerCss);aa=w.applyCss(aa,ah.getContainerCssBasedOnConfig(ad));var al=f["webengage.feedback.tab"]||"bubble";if((al==="bubble")&&(c.BrowserDetect.isMobile()||w.isSmallScreen())){var N=a.body.clientWidth/d.screen.availWidth;an.background="transparent";an.border="0px";if(N>2){an.width="130px";an.height="130px";an.bottom="30px";if(ad==="right"){an.right="30px"}else{an.left="30px"}}else{an.width="58px";an.height="58px";an.bottom="15px";if(ad==="right"){an.right="15px"}else{an.left="15px"}}an.boxSizing="border-box"}else{aa.style.width=(parseInt(X)+3+3)+"px";var K=(parseInt(R)+7+7+(U?(3+26):0))+"px";an.top=(("innerHeight" in d?d.innerHeight:a.documentElement.clientHeight)-parseInt(R))/2+"px"}an.zIndex=(w.getMaxZIndex()+1);var S=a.createElement("div");aa.appendChild(S);S.id=s.widgetContainerId+"-close-div";S=w.applyCss(S,af.closeCommonCss);S=w.applyCss(S,ah.getCloseCssBasedOnConfig(ad));S.style.backgroundImage="url('"+ae+"')";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){S.style.backgroundImage="";S.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+ae+"')"}var ac=a.createElement("div");aa.appendChild(ac);ac.setAttribute("id",s.widgetContainerId+"-content-expand-collapse");var Z=ac.style;ac=w.applyCss(ac,af.commonCss);ac=w.applyCss(ac,ah.getButtonCssBasedOnConfig(ad,U));if((al==="bubble")&&(c.BrowserDetect.isMobile()||w.isSmallScreen())){mobileTabSVGStyle=(N>2)?'viewBox="0 0 80 80" style="padding:15px 20px;"':'viewBox="0 0 180 180" style="padding:7px;"';var Y='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="40px" height="40px" '+mobileTabSVGStyle+' version="1.1"><title>180 - iPhone 6 Plus</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="180---iPhone-6-Plus" sketch:type="MSArtboardGroup" fill="#1A1918"><g id="Imported-Layers" sketch:type="MSLayerGroup" transform="translate(11.000000, 17.000000)"><path d="M137.853,52.283 C135.333462,22.50325 102.805731,0.973875 65.1838846,4.134375 C27.5620385,7.319375 -0.917307692,34.012125 1.57776923,63.76125 C3.29619231,84.2065 19.1839615,100.7685 41.1687692,108.100125 C38.7042692,115.156125 34.185,122.518375 26.1555,129.24975 C26.1555,129.24975 55.5582692,128.2575 72.8892692,111.934375 C73.3418077,111.90375 73.7882308,111.916 74.253,111.87925 C111.880962,108.71875 140.348077,82.032125 137.853,52.283" id="Fill-1" sketch:type="MSShapeGroup"/><path d="M157.373308,102.74075 C158.296731,90.993 152.621654,79.98025 143.136692,72.415875 C135.266192,96.10125 111.434538,114.457875 81.4875,119.308875 C88.5874615,127.932875 99.7235769,134.015 112.596462,135.20325 C118.491692,135.74225 124.172885,135.20325 129.407654,133.77 C139.400192,139.307 151.312962,145.19925 151.312962,145.19925 C147.215654,141.42625 143.864423,131.8835 142.213269,127.89 C150.799269,122.01 156.578308,113.12875 157.373308,102.74075" id="Fill-2" sketch:type="MSShapeGroup"/></g></g></g></svg>';ac.innerHTML=Y;Z.height="100%";Z.width="100%";Z.borderRadius="75px";Z.background="#fff";Z.border="1px solid #ccc";Z.mozBoxShadow="1px 1px 8px #888888";Z.webkitBoxShadow="1px 1px 8px #888888";Z.boxShadow="1px 1px 8px #888888";Z.padding="0";Z.boxSizing="border-box";if(N>2){Z.fontSize=(N*13)+"px";Z.lineHeight="1.5em"}else{Z.textAlign="center"}}else{ac=w.applyCss(ac,ah.getButtonCssBasedOnBackgroundColor(T));if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){Z.backgroundImage="";var J=(w.isColorTooLight(T)?af.feedbackBgImageForLightBackground:af.feedbackBgImageForDarkBackground);Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+J+"')"}Z.backgroundColor=T}Z.zIndex=w.getMaxZIndex()+1;if(!ai){aa.style.display="none"}var Q=a.createElement("div");ac.appendChild(Q);Q.style.margin="0px";Q.style.padding="0px";if((al==="bubble")&&(c.BrowserDetect.isMobile()||w.isSmallScreen())){Q.style.width="20%";Q.style.width="20%";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){Q.style.backgroundImage="";Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+af.feedbackTextImage+"')"}}else{Q.style.width=parseInt(X)+"px";Q.style.height=parseInt(R)+"px";Q=w.applyCss(Q,ah.getCustomTextImageCss());if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){Q.style.backgroundImage="";Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+af.feedbackTextImage+"')"}}S.style.zIndex=w.getMaxZIndex()+1;V.close=function(){try{aa.removeChild(a.getElementById(s.widgetContainerId+"-loading"))}catch(ap){}try{aa.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(ap){}try{a.getElementById(s.widgetContainerId+"-content-expand-collapse").isCurrentlyOpen=false}catch(ap){}S.style.display="none";aa.style.width=(parseInt(X)+3+3)+"px";if(!ai){ac.style.display="none"}};S.onclick=function(){c.withELog(function(){V.close()})};function L(){if(f["webengage.feedback.custom"]){aa.style.display="block";aa.style.border="none";aa.style["background-color"]="transparent";aa.style.position="static";aa.style.overflow="visible";aa.style.width="0px";aa.style.height="0px"}else{if(c.BrowserDetect.isMobile()||w.isSmallScreen()){aa.style.display="block";var at=c.feedback.getLightBoxBaseDiv();s.weDataContainer.appendChild(at);var ar=c.feedback.getLightBoxContainerDiv();s.weDataContainer.appendChild(ar);var aq=c.feedback.getMobileLoadingDiv();aq.innerHTML="Loading<br/>please wait ...";s.weDataContainer.appendChild(aq);var au=c.util.getElementHeight(aq);var av=c.util.getWindowHeight();aq.style.top=(av-au)/2+"px";aq.style.display="block"}else{aa.style.display="block";aa.style.width="300px";var aq=c.feedback.getLoadingDiv();aq=w.applyCss(aq,af.loadingCss);aq.innerHTML="Loading<br/>please wait ...";aa.appendChild(aq);w.alignCenter(aq,aa,ad);S.style.display="block"}}V.feedbackLoadStartTime=new Date();var ap=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadFeedbackWidgetUrlv3:s.loadFeedbackWidgetUrl);c.feedbackLoadStartTime=new Date();w.withWeJquery(function(){var aw=a.createElement("script");aw.type="text/javascript";aw.src=ap;s.widgetContainer.appendChild(aw)})}ac.onclick=function(){c.withELog(function(){L()})};if(O&&O.length>0){(function(){for(var aq=0;aq<O.length;aq++){var ar=O[aq];var ap=a.getElementById(ar);if(ap){ap.onclick=function(at){var au=at||d.event;au.cancelBubble=true;if(au.stopPropagation){au.stopPropagation()}if(au.preventDefault){au.preventDefault()}else{au.returnValue=false}ac.onclick();return false}}}})()}a.$FeedbackWidgetInitializer={containerId:s.widgetContainerId,licenseCode:m,appHost:s.feedbackAppHost,minWidth:(parseInt(X)+3+3)+"px",maxWidth:af.maxWidth,minHeight:K,maxHeight:af.maxHeight,showFeedbackButton:ai,buttonAlignment:ad,borderColor:am.substring(1),snapshotEnabled:ag,currentInstance:V,mobileLBEnabled:(c.BrowserDetect.isMobile()||w.isSmallScreen()),widgetLanguage:V._feedbackOptions.language};if(V._feedbackOptions.showForm==true){ac.onclick()}}else{if(E.feedback&&E.feedback.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Feedback - Widget turned off for SSL encrypted page","Feedback - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(H){}G=[];a.$FeedbackWidgetInitializer=null})},abort:function(){w.abortAllInstances(G)},attachEventListner:function(){var H=this,I=arguments;c.withELog(function(){w.bind.apply(H,I);if(G.length>0){for(var J=0;J<G.length;J++){G[J].enableCallbacks=true;w.bind.apply(G[J],I)}}})}}})());w.extend("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http(s)?://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http(s)?://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http(s)?://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http(s)?://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http(s)?://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http(s)?://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http(s)?://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http(s)?://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$",XPATH_PLUGIN_FILE:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js"});w.extend("ruleExecutor.dependencies",{XPATH:function(H,I,G){c.XPATH.util.loadXPath(I,G)},GEO:function(H,I,G){c.GEO.load(I,G)}});w.extend("XPATH.util",(function(){return{loadXPath:function(I,H){if((c.BrowserDetect.browser()==="Explorer")&&(!a.evaluate)){var G="//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js";w.loadScript.apply(s.widgetContainer,[G,function(){wgxpath.install();if(typeof I==="function"){I()}},null,function(){if(typeof H==="function"){H()}}])}else{if(typeof I==="function"){I()}}},isXpathLoaded:function(){return(a.evaluate?true:false)},getXPathElement:function(I){var G=null;if(I&&I.indexOf("|")>-1){var H=I.split("|");I=H[0]+"/@"+H[1]}try{xpathResult=a.evaluate(I,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);G=(xpathResult&&xpathResult.singleNodeValue&&c.util.isElementExists(xpathResult.singleNodeValue))?xpathResult.singleNodeValue:null}catch(J){}return G},evaluateXPathQuery:function(H){var G=c.XPATH.util.getXPathElement(H);if(G){return G.textContent}else{return null}}}})());w.extend("ruleExecutor.dependency.util",{xPathExists:function(){if(c.XPATH.util.isXpathLoaded()){return true}else{var G={};G.type="XPATH";throw G}},geoDataExists:function(){if(c.GEO.isGeoLoaded()){return true}else{var G={};G.type="GEO";throw G}}});w.extend("ruleExecutor.util",(function(G){return{isMatches:function(J,H){if(J){if(J instanceof Array){for(var K=0;K<J.length;K++){if(c.ruleExecutor.util.isMatches(J[K],H)){return true}}}else{if(H instanceof Array){for(var I=0;I<H.length;I++){if(J.match(new RegExp(H[I],"mgi"))){return true}}}else{if(J.match(new RegExp(H,"mgi"))){return true}}}}return false},getCurrentTimeInSec:function(K){var J=new Date(K);var H=J.getHours();var L=J.getMinutes();var I=J.getSeconds();return(H*60*60+L*60+I)},getClientTime:function(){var H=w.getCurrentTime();return c.ruleExecutor.util.getCurrentTimeInSec(H)},getClientDayOfWeek:function(){return w.getCurrentWeekDay()},getPublisherTime:function(){var H=w.getCurrentTime(s.publisherTimeZoneOffset);return c.ruleExecutor.util.getCurrentTimeInSec(H)},isContainsSearchTerms:function(J,K){var I=false;if(typeof J!=="function"||!K||!(K instanceof Array)||K.length<=0){return false}var H=J();if(typeof H!==e&&H){for(var L=0;L<K.length;L++){I=c.ruleExecutor.util.isContains(H,c.ruleExecutor.util.jsTokenizer(K[L]," "),"contains_all");if(typeof I==="boolean"&&I){break}}}return I},isContains:function(M,Q,I){var P=M;if(typeof(M)==="function"){P=M()}var O=false;var J=I||"contains_any";if(P!==e&&P){var H=[];if(P instanceof Array){for(var N=0;N<P.length;N++){H[P[N].toLowerCase()]=true}}else{H[P]=true}if(Q!==e&&Q){if(Q instanceof Array){if(J=="contains_all"){for(var L=0;L<Q.length;L++){if(H[Q[L].toLowerCase()]==true){O=true;continue}O=false;break}}else{for(var K=0;K<Q.length;K++){if(H[Q[K].toLowerCase()]==true){O=true;break}}}}else{O=H[Q.toLowerCase()]==true}}}return O},getReferrers:function(){var I=[];if(a.referrer){I[I.length]=a.referrer.toLowerCase()}var H=w.getSessionCookie();if(H&&H.referrer&&(!a.referrer||H.referrer!=a.referrer)){I[I.length]=H.referrer.toLowerCase()}return I},getCountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return w.getSessionCookie().country||null}},getRegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return w.getSessionCookie().region||null}},getCity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return w.getSessionCookie().city||null}},getSearchEngineMatchResult:function(){var K=c.ruleExecutor.util.getReferrers();var H={isSER:false};for(var J in G.SEARCH_ENGINE_REGEXP){for(var I=0;I<K.length;I++){if(c.ruleExecutor.util.isMatches(K[I],G.SEARCH_ENGINE_REGEXP[J].pattern)!=false){H.isSER=true;H.url=K[I];H.queryParam=G.SEARCH_ENGINE_REGEXP[J].queryParam;break}}if(H.isSER===true){break}}return H},isSearchEngineReference:function(){return(c.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return c.ruleExecutor.util.isMatches(c.ruleExecutor.util.getReferrers(),G.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var H=w.getSessionCookie();return(H&&(typeof H.isFirstTime==="boolean"&&H.isFirstTime))?true:false},getSearchTerms:function(){var J=null;var H=c.ruleExecutor.util.getSearchEngineMatchResult();if(H.isSER){var I=decodeURI(c.ruleExecutor.util.getParamValue(H.url,H.queryParam));if(I){J=c.ruleExecutor.util.jsTokenizer(I," ")}}return J},jsTokenizer:function(K,M){var L=[];if(K!==e&&K){var J=w.escapeForRegExp(",\r\n");if(M!==e&&M){if(M instanceof Array){J=w.escapeForRegExp(M.join(""))}else{J=w.escapeForRegExp(M)}}K=K.replace(new RegExp("["+J+"]","g"),"\n");var H=K.split(/\n/g);for(var I=0;I<H.length;I++){if(H[I]!=""){L[L.length]=H[I]}}}return L},getParamValue:function(I,K){var L="";var J=new RegExp("[\\?&]"+K+"=([^&#]*)");var H=J.exec(I);if(H!==null){L=H[1]}return L},escapeForRegExp:function(H){return w.escapeForRegExp(H)},getTotalPageView:function(){var H=w.getSessionCookie();return(H&&H.pvc)?H.pvc:1},sampling:function(H){var I=this.entityId||H;if(I){var J=w.getWebengageCookie(),K=w.getHashCode(I+J.luid);return Math.abs(K%100)}return 0},getSessionCookieReferer:function(){var H=w.getSessionCookie();var I=H.referrer;if(!I){return null}return I},getXpathStringResult:function(H){if(c.ruleExecutor.dependency.util.xPathExists()){return c.XPATH.util.evaluateXPathQuery(H)}},getXpathIntegerResult:function(I){if(c.ruleExecutor.dependency.util.xPathExists()){var H=c.XPATH.util.evaluateXPathQuery(I);if(H){return parseFloat(H)}else{return null}}},loadDependency:function(H,J,L,I){var K=c.ruleExecutor.dependencies[H];if(K&&(typeof K==="function")){K(J,L,I)}else{if(I&&typeof I=="function"){I()}}}}})(c.ruleExecutor.constants));w.extend("ruleExecutor",(function(J,I){var G={};var H=function(){G={referer:J.getReferrers,url:w.getClientPageUrl(),cookie:function(M){return w.getCookie(M,true)},country:J.getCountry,region:J.getRegion,city:J.getCity,time:"",isFirstTime:J.isFirstTime,isSER:J.isSearchEngineReference,isSMR:J.isSocialMediaReference,searchTerms:J.getSearchTerms,os:c.BrowserDetect.os,device:c.BrowserDetect.device,browser:c.BrowserDetect.browser,browser_version:c.BrowserDetect.version,endUserTime:J.getClientTime,publisherTime:J.getPublisherTime,totalPageView:J.getTotalPageView,sampling:J.sampling,contentXPathString:J.getXpathStringResult,contentXPathInteger:J.getXpathIntegerResult,contentXPathNode:J.getXpathStringResult,isDirectVisitor:J.getSessionCookieReferer,dayOfWeek:J.getClientDayOfWeek};var L={};for(var K in G){if(G.hasOwnProperty(K)){L["we_wk_"+K]=G[K]}}w.copy(G,L)};H();return{execute:function(L,N,K){var M=w.copy({},G);M=w.copy(M,(K?K:{}),true);M.entityId=L;N=(N!==e)?N:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+N+");")(w,J,I,M))},loadOperands:function(){H()}}})(c.ruleExecutor.util,c.ruleExecutor.constants));w.extend("survey",(function(){var K=[],L=function(U,O){if(U!==e&&U){var V=this,R=E.survey.config,T=R.theme||"",P="320px",Y="1px",X=a.createElement("div");if(V._surveyOptions.width){var S=parseInt(V._surveyOptions.width,10);if(!isNaN(S)){P=S+"px"}}V.height=Y;V.width=P;V.surveyConfigDto=R;V.theme=T;V.surveyEId=U;V._weProperties=s;V.showOnExit=(typeof O==="boolean"?O:false);V.isMobileSurvey=(typeof isMobileSurvey=="boolean"?isMobileSurvey:false);var W=V._surveyOptions.scope[U]||V._surveyOptions.scope.all||null;if(W){V.scope=(W.scope?W.scope:"");V.scopeType=(W.scopeType?W.scopeType:"")}s.widgetContainer.appendChild(X);X.setAttribute("id",s.widgetContainerId+"-survey-content");a.$SurveyWidgetInitializer={currentInstance:V,containerId:s.widgetContainerId,licenseCode:m,appHost:s.surveyAppHost,width:parseInt(P,10)};var Q=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadSurveyWidgetUrlv3:s.loadSurveyWidgetUrl(V.layoutAttributes.id));w.withWeJquery(function(){var Z=a.createElement("script");Z.type="text/javascript";Z.src=Q;s.widgetContainer.appendChild(Z)})}},J=function(R,T,O){if(R!==e&&R){if(typeof R==="object"){if(R instanceof Array){for(var P=0;P<R.length;P++){J(R[P],T,O)}}else{var Q=R.scope;if(Q){var S=R.surveyIds;if(S!==e&&S instanceof Array&&S.length>0){for(j=0;j<S.length;j++){O[S[j]]={scope:Q,scopeType:(R.scopeType||"")}}}else{O.all={scope:Q,scopeType:(R.scopeType||"")}}}}}else{O.all={scope:R,scopeType:(T||"")}}}},G=function(V,Q,Y){if(V&&V.length>0){var am=(new Array()).concat(V);var ap=am[0],ac=w.getSessionCookie(),ai=w.getWebengageCookie(),ab=w.getInitParamValue(Y._surveyOptions,"alignment",E.survey.config.alignment,["left","right"]),aa=ap,af=Q[aa].ruleCode,ag=w.copy({},Q[aa]["la"]),R=Q[aa].startTimestamp,T=Q[aa].endTimestamp,U=(!Y._surveyOptions.skipRules&&typeof Q[aa].showOnExit==="boolean")?Q[aa].showOnExit:false,W=((Y._surveyOptions.skipRules||U)?0:(Q[aa].totalTimeOnSite?Q[aa].totalTimeOnSite-((new Date()).getTime()-(ac.sst||0)):0)),ao=((Y._surveyOptions.skipRules||U)?0:((parseInt(Y._surveyOptions.delay,10)>=0)?parseInt(Y._surveyOptions.delay,10):Math.max(W,Q[aa].timeSpent))),ak=Q[aa].maxTimesPerUser,S=Y._surveyOptions.scope[aa]||Y._surveyOptions.scope.all||null,ah=aa+(S&&S.scope&&(S.scopeType+"").toUpperCase()!="GLOBAL"?"["+w.escapeScopeChars(S.scope)+"]":""),al=w.escapeForRegExp(ah),P=Q[aa].mobile,O=Q[aa].sampling||100;if(!Y._surveyOptions.isDemoMode){if(typeof P!=="undefined"&&P&&!c.BrowserDetect.isMobile()){V.splice(0,1);return G(V,Q,Y)}if(!Y._surveyOptions.forcedRender&&((ac&&ac.closedSurveys!==e&&(ac.closedSurveys.match("##"+al+"##")||ac.closedSurveys.match("##"+al+"$")))||(ai&&ai.takenSurveys!==e&&(ai.takenSurveys.match("##"+al+"##")||ai.takenSurveys.match("##"+al+"$"))))){am.splice(0,1);return G(am,Q,Y)}var ae=c.util.getTotalTimesShown(aa,"survey");if(!Y._surveyOptions.forcedRender&&ak!==e){if(ak<=ae){am.splice(0,1);return G(am,Q,Y)}}var X={timeSpent:ao,showOnExit:U,maxTimesPerUser:ak,startTimestamp:R,endTimestamp:T,ruleCode:af,layoutAttributes:ag,sampling:O};I(aa,X,Y,function(){am.splice(0,1);return G(am,Q,Y)})}else{var X={timeSpent:ao,showOnExit:U,maxTimesPerUser:ak,startTimestamp:R,endTimestamp:T,ruleCode:af,layoutAttributes:ag,sampling:O};if(!Y.surveysToExecuteData){Y.surveysToExecuteData={}}Y.surveysToExecuteData[aa]=X;am.splice(0,1);return G(am,Q,Y)}}else{if(Y.surveysToExecuteData){var an=null;var aj=[];for(var ap in Y.surveysToExecuteData){var ad=ap;aj[aj.length]=ad;an=((an==null||an>Y.surveysToExecuteData[ad]["timeSpent"])?Y.surveysToExecuteData[ad]["timeSpent"]:an)}var Z=Y.startExecutionTime?(new Date()).getTime()-Y.startExecutionTime:0;Y.totalTimeElapsed=Y.totalTimeElapsed+Z;Y.minTimespentVal=(an-Z<0)?0:an-Z;return M(aj,Y.surveysToExecuteData,Y)}}},I=function(Q,P,T,V){try{if(P.startTimestamp||P.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var S=w.getServerTimeStamp(),U=P.startTimestamp,O=P.endTimestamp;if(O<S||S<U){return V()}}}if((T._surveyOptions.skipRules)||(!P.ruleCode)||(c.ruleExecutor.execute(Q,P.ruleCode,T._surveyOptions.ruleData))){if(!T.surveysToExecuteData){T.surveysToExecuteData={}}T.surveysToExecuteData[Q]=P}return V()}catch(R){if(R&&R.type){c.ruleExecutor.util.loadDependency(R.type,P,function(){I(Q,P,T,V)},V)}else{c.eLog(R);V()}}},N=function(R,P,S,O,Q){totlatTimeElapsed=0;timespent=0;if(!S){if(arguments&&arguments[0]){timespent=P||0}totlatTimeElapsed=Q.totalTimeElapsed+Q.minTimespentVal}c.setTimeout(function(){L.apply(Q,[R,S])},((timespent-totlatTimeElapsed)<0?0:(timespent-totlatTimeElapsed)))},H=function(U,Q){var T=this;for(var R=0;R<U.length;R++){var S=U[R];var P=Q[S].sampling||100;var O=c.ruleExecutor.util.sampling(S);if(P>=O){return S}else{c.util.markEntityAsShown(S,"survey",T,true);c.setTimeout(function(){T.dump("abs_view",{id:S})},10)}}},M=function(O,P,Q){c.setTimeout(function(){if(!Q._surveyOptions.forcedRender){var R=[];for(var T=0;T<O.length;T++){if(T>0){R[R.length]="&"}R[R.length]="surveyIds="+O[T]}var S=s.findAllTakenSurveysUrl()+"&"+R.join("")+(Q._surveyOptions.scope?"&scope="+encodeURIComponent(w.stringify(Q._surveyOptions.scope)):"");w.loadScript.apply(s.widgetContainer,[S,function(W,Y,X){var ad=[],Z={};if(typeof we_notToExecuteSurveyIdsMap!="undefined"){if(we_notToExecuteSurveyIdsMap.takenSurveyIds!==e&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){for(var V=0;V<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;V++){var ae=Q._surveyOptions.scope[we_notToExecuteSurveyIdsMap.takenSurveyIds[V]]||Q._surveyOptions.scope.all||null;var ag=(ae&&ae.scope?ae.scope:"");var ac=(ae&&ae.scopeType?ae.scopeType:"");Z[we_notToExecuteSurveyIdsMap.takenSurveyIds[V]]=true;w.markSurveyAsTaken((we_notToExecuteSurveyIdsMap.takenSurveyIds[V]+(ag&&(ac+"").toUpperCase()!="GLOBAL"?"["+w.escapeScopeChars(ag)+"]":"")))}}if(we_notToExecuteSurveyIdsMap.inactiveSurveyIds!==e&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var ab=0;ab<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;ab++){Z[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[ab]]=true}}}for(var af=0;af<Y.length;af++){if(!Z[Y[af]]){ad[ad.length]=Y[af]}}if(ad.length>0){var aa=H.apply(Q,[ad,W]);if(aa){Q.layoutAttributes=W[aa]["layoutAttributes"];N(aa,(W[aa]["timeSpent"]||0),W[aa]["showOnExit"],W[aa]["maxTimesPerUser"],Q)}}},[P,O,Q.totalTimeElapsed]])}else{var U=H.apply(Q,[O,P]);Q.layoutAttributes=P[U]["layoutAttributes"];N(U,(P[U]["timespent"]||0),P[U]["showOnExit"],P[U]["maxTimesPerUser"],Q)}},Q.minTimespentVal)};return{cbid:1,render:function(O){return c.withELog(function(){return(new function(){c.survey.clear();var S=this;S.cbid=1;K[K.length]=S;S.abort=function(){w.abortInstance(this)};var Q={surveyId:f["webengage.survey.surveyId"]||"",skipRules:f["webengage.survey.skipRules"]||false,forcedRender:f["webengage.survey.forcedRender"]||false,delay:f["webengage.survey.delay"]||-1,customData:w.copy({},f["webengage.survey.customData"]||f["webengage.customData"]||{}),ruleData:w.copy({},f["webengage.survey.ruleData"]||f["webengage.ruleData"]||{}),isDemoMode:f["webengage.survey.isDemoMode"]||f["webengage.isDemoMode"]||false,alignment:f["webengage.survey.alignment"]||"",scope:f["webengage.survey.scope"]||f["webengage.scope"]||"",scopeType:f["webengage.survey.scopeType"]||f["webengage.scopeType"]||"",enableCallbacks:f["webengage.survey.enableCallbacks"]||f["webengage.enableCallbacks"]||false,width:f["webengage.survey.width"]};var Y={showAllClosedAndTakenSurveys:"forcedRender",data:"customData",demo:"isDemoMode"};if(O!==e&&!w.isEmptyObject(O)){for(var P in O){var T=Y[P];if(T!==e&&T){O[T]=O[P];delete O[P]}}}if(O&&O.customData){Q.customData=w.copy(Q.customData,O.customData,true);delete O.customData}if(O&&O.ruleData){Q.ruleData=w.copy(Q.ruleData,O.ruleData,true);delete O.ruleData}S._surveyOptions=w.copy(Q,(O?O:{}),true);S._surveyOptions.forcedRender=typeof S._surveyOptions.forcedRender==="boolean"?S._surveyOptions.forcedRender:false;if(S._surveyOptions.forcedRender){S._surveyOptions.scope=(new Date()).getTime();S._surveyOptions.scopeType="session"}var R={};J(S._surveyOptions.scope,S._surveyOptions.scopeType,R);S._surveyOptions.scope=R||"";S.enableCallbacks=(typeof S._surveyOptions.enableCallbacks==="boolean"?S._surveyOptions.enableCallbacks:false);if(E.survey&&(E.survey.isEnabled||S._surveyOptions.isDemoMode)&&!w.isEmptyObject(E.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isSRQuotaOver){w.copy(S,B,true);S.onLoad((S._surveyOptions.onLoad||f["webengage.survey.onLoad"]));S.onSubmit((S._surveyOptions.onSubmit||f["webengage.survey.onSubmit"]));S.onClose((S._surveyOptions.onClose||f["webengage.survey.onClose"]));S.onOpen((S._surveyOptions.onOpen||f["webengage.survey.onOpen"]));S.onComplete((S._surveyOptions.onComplete||f["webengage.survey.onComplete"]));S.dump=function(ad,aa){var ac=this;var Z={id:ac.surveyEId,layoutId:ac.layout},ab={};w.copy(Z,(aa||{}),true);Z.tvc=w.getTotalTimesShown(Z.id,"survey",false,(ad==="abs_view"?true:false));Z.tvcs=w.getTotalTimesShown(Z.id,"survey",true,(ad==="abs_view"?true:false));if(!w.isEmptyObject(ac.layoutAttributes)){Z.layoutAttrs=ac.layoutAttributes}if(ac.theme){Z.theme=ac.theme}if(ac.showOnExit){Z.showOnExit=ac.showOnExit}if(!w.isEmptyObject(ac._surveyOptions.ruleData)){Z.ruleData=ac._surveyOptions.ruleData}if(!w.isEmptyObject(ac._surveyOptions.customData)){ab=ac._surveyOptions.customData}this.executeCallbacks("dump",Z,ad);c.dump("survey_"+ad,ab,Z)};w.attachEventListners("survey",S);S.totalTimeElapsed=0;var U=E.survey.ruleMap,X=E.survey.order,V=S._surveyOptions.surveyId;if(V&&U[V]){var W=[];W[0]=V;X=W}S.startExecutionTime=(new Date()).getTime();G(X,U,S)}else{if(E.survey&&E.survey.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Survey - Widget turned off for SSL encrypted page","Survey - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{if(a.getElementById(s.widgetContainerId+"-base")){var O=a.getElementsByTagName("webengagedata")[0]}else{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-survey-content"))}}catch(P){}a.$SurveyWidgetInitializer=null;K=[]})},abort:function(){w.abortAllInstances(K)},attachEventListner:function(){var O=this,P=arguments;c.withELog(function(){w.bind.apply(O,P);if(K.length>0){for(var Q=0;Q<K.length;Q++){K[Q].enableCallbacks=true;w.bind.apply(K[Q],P)}}})}}})());w.extend("IFRAMES",(function(){var G=[];return{create:function(J,L,N){this.remove(J);var O=N||{};var H;try{H=a.createElement('<iframe name="'+J+'">')}catch(M){H=a.createElement("iframe");H.name=J}H.id=J;if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){H.src="javascript:void(0);"}H.frameBorder=O.frameBorder||"0";H.marginHeight=O.marginHeight||"0";H.marginWidth=O.marginWidth||"0";H.allowTransparency=O.allowTransparency||"true";var I=H.style;I.zIndex=(w.getMaxZIndex()+1);I.position="absolute";I.backgroundColor=O.backgroundColor||"transparent";I.bottom=O.bottom||"0px";I.right=O.right||"0px";I.border=O.border||"none";I.overflow=O.overflow||"hidden";I.visibility=O.visibility||"hidden";var K=L||s.widgetContainer;K.appendChild(H);G[J]=H;try{H.contentWindow.name}catch(M){c.eLog(M);H.src='javascript:(function () {document.open();document.domain="'+a.domain+'";document.close();})();'}if(typeof(O.onload)==="function"){w.addListener(H,"load",O.onload)}return H},get:function(H){return G[H]},resize:function(I,H,J){var K=c.IFRAMES.get(I);K.style.height=H+"px"},remove:function(H){var I=c.IFRAMES.get(H);if(I){if(I.parentNode){I.parentNode.removeChild(I)}}if(d.frames[H]){delete d.frames[H]}delete G[H]},creatCallbackFrame:function(K,I,N,H){var M={};if(typeof(H)==="function"){M.onload=function(){c.withELog(function(){var Q=G[K];if(!Q.widgetCallBackStatus||Q.widgetCallBackStatus===0){Q.widgetCallBackStatus=1}else{if(Q.widgetCallBackStatus===1){Q.contentWindow.location="about:blank";Q.widgetCallBackStatus=2}else{if(Q.widgetCallBackStatus===2){var R=(new Date()).getTime()+"CB";if(!c.IFRAMES.CB){c.IFRAMES.CB={}}c.IFRAMES.CB[R]=function(S){setTimeout(function(){if(S!==e&&S!==""){try{var U=w.parseJSON(S);if(U!==null){if(U.eventName!==e){H(U.eventName,U.data)}}}catch(T){c.eLog(T)}}Q.widgetCallBackStatus=0;c.IFRAMES.remove(K);Q=c.IFRAMES.creatCallbackFrame(K,I,N,H)},10)};try{var O=Q.contentWindow.name;c.IFRAMES.CB[R](O)}catch(P){c.eLog(P);Q.src="javascript:(function () {document.write('<script>var _data=window.name;document.domain=\""+a.domain+'";setTimeout(function(){window.parent.webengage.IFRAMES.CB["'+R+"\"](_data);}, 10);<\/script>')})();"}}}}})}}var L=c.IFRAMES.create(K,I,M);var J=L.style;J.height=0;J.width=0;if(N){L.src=N}return L}}})());w.extend("notification",(function(){var K=[],H=function(S,R,Q,M){var U=this;if(S||U._notificationOptions.previewJson!==e){U.notificationId=U.notificationEId=S;U.showOnExit=M;U.layout=R||(U._notificationOptions.previewJson&&U._notificationOptions.previewJson.layout?U._notificationOptions.previewJson.layout:"");var T=U.executeCallbacks("run",U);if(typeof T==="boolean"&&!T){return}var O=c.IFRAMES.create(s.widgetContainerId+"-notification-frame",s.widgetContainer);O.style.top="-1000px";O.style.left="-1000px";var W=w.getSessionCookie();var P=null;if(O.contentDocument){P=O.contentDocument}else{if(O.contentWindow){P=O.contentWindow.document}else{if(O.document){P=O.document}}}P.open();var N=(U.layout===""?"notification-base.css":U.layout+"-notification-base.css");var L=(c.BrowserDetect.ie()&&c.BrowserDetect.version()<8)?'<link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.css?v=463.0" media="screen"/><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.js?v=463.0"><\/script><style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";var V=(c.BrowserDetect.ie()&&c.BrowserDetect.version()===8)?'<style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";P.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><link id="widget-font-id" rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font.css?v=463.0" media="screen"/><link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/webengage/notification/'+N+'?v=463.0" media="screen"/>'+L+V+'<script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";};<\/script><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js"><\/script></head><body class="notification-body"><script type="text/javascript">window.onload = function () { (function(d){ var _script = d.createElement("script"); _script.type = "text/javascript"; _script.src = "'+s.widgetDomain+s.notificationWidgetScriptUrl+'"; d.body.appendChild(_script); })(document);};<\/script></body></html>');P.close();c.setTimeout(function(){if(U._notificationOptions.previewJson!==e){P.$NotificationWidgetInitializer={currentInstance:U,notificationVersion:Q,containerId:s.widgetContainerId,licenseCode:m,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,previewJson:U._notificationOptions.previewJson}}else{P.$NotificationWidgetInitializer={currentInstance:U,notificationVersion:Q,containerId:s.widgetContainerId,licenseCode:m,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),os:c.BrowserDetect.os(),country:W.country||"",city:W.city||"",region:W.region||"",pageTitle:a.title,ip:W.ip,referrer:a.referrer}}},0)}},G=function(Q,M,S){if(Q&&Q.length>0){var W=(new Array()).concat(Q);var af=W[0],aa=w.getWebengageCookie(),U=w.getSessionCookie(),L=af,ac=M[L].layout,O=(webengage_fs_configurationMap.config.notificationConfig.wl?"W":"N")+M[L].version,Z=M[L].ruleCode,N=(!S._notificationOptions.skipRules&&typeof M[L].showOnExit==="boolean"?M[L].showOnExit:false),P=((S._notificationOptions.skipRules||N)?0:((M[L].totalTimeOnSite?M[L].totalTimeOnSite-((new Date()).getTime()-(U.sst||0)):0))),ae=((S._notificationOptions.skipRules||N)?0:((parseInt(S._notificationOptions.delay,10)>=0)?parseInt(S._notificationOptions.delay,10):Math.max(P,M[L].timespent))),R=M[L].skipTargetPage,X=M[L].actionLinks,ad=M[L].maxTimesPerUser,V=M[L].mobile;if(!S._notificationOptions.isDemoMode){if(typeof V!=="undefined"&&V&&!c.BrowserDetect.isMobile()){W.splice(0,1);return G(W,M,S)}if(!S._notificationOptions.forcedRender&&((U&&U.closedNIds!==e&&U.closedNIds.indexOf("##"+L)>=0)||(aa&&aa.takenNIds!==e&&aa.takenNIds.indexOf("##"+L)>=0))){W.splice(0,1);return G(W,M,S)}if(R&&X instanceof Array&&X.length>0){for(var ab in X){var T=a.createElement("a");T.href=X[ab];X[ab]="^"+w.escapeForRegExp(T.href)+"$";T=null}if(c.ruleExecutor.util.isMatches(w.getClientPageUrl(),X)){W.splice(0,1);return G(W,M,S)}}var Y=c.util.getTotalTimesShown(L,"notification");if(!S._notificationOptions.isDemoMode&&!S._notificationOptions.forcedRender&&ad!==e){if(ad<=Y){W.splice(0,1);return G(W,M,S)}}M[L]["timeSpent"]=ae;M[L]["showOnExit"]=N;J(L,M[L],S,function(){W.splice(0,1);return G(W,M,S)})}else{M[L]["timeSpent"]=ae;M[L]["showOnExit"]=N;I(L,M[L],S)}}},J=function(R,L,S,V){try{if(L.startTimestamp||L.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var T=w.getServerTimeStamp(),P=L.startTimestamp,M=L.endTimestamp;if(M<T||T<P){return V()}}}if((S._notificationOptions.skipRules)||(!L.ruleCode)||(c.ruleExecutor.execute(R,L.ruleCode,S._notificationOptions.ruleData))){var N=S.startExecutionTime?(new Date()).getTime()-S.startExecutionTime:0;S.totalTimeElapsed=S.totalTimeElapsed+N;var Q=L.sampling||100;var U=c.ruleExecutor.util.sampling(R);if(Q>=U){return I(R,L,S)}else{c.util.markEntityAsShown(R,"notification",S,true);c.setTimeout(function(){S.dump("abs_view",{id:R})},10);return V()}}else{return V()}}catch(O){if(O&&O.type){c.ruleExecutor.util.loadDependency(O.type,L,function(){J(R,L,S,V)},V)}else{c.eLog(O);V()}}},I=function(O,M,N){var L=M.timeSpent||0;function P(){w.withWeJquery(function(){c.setTimeout(function(){H.apply(N,[O,M.layout,M.version,M.showOnExit])},(M.showOnExit?0:((L-N.totalTimeElapsed)<0?0:(L-N.totalTimeElapsed))))})}c.GEO.load(P,P)};return{cbid:1,render:function(L){return c.withELog(function(){return(new function(){c.notification.clear();var R=this;R.cbid=1;K[K.length]=R;R.abort=function(){w.abortInstance(this)};var N={notificationId:f["webengage.notification.notificationId"]||"",skipRules:f["webengage.notification.skipRules"]||false,delay:f["webengage.notification.delay"]||-1,isDemoMode:f["webengage.notification.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:w.copy({},f["webengage.notification.customData"]||f["webengage.customData"]||{}),ruleData:w.copy({},f["webengage.notification.ruleData"]||f["webengage.ruleData"]||{}),tokens:f["webengage.notification.tokens"]||f["webengage.tokens"]||{},previewJson:f["webengage.notification.previewJson"],forcedRender:f["webengage.notification.forcedRender"]||false,enableCallbacks:f["webengage.notification.enableCallbacks"]||f["webengage.enableCallbacks"]||false};var O={data:"customData",demo:"isDemoMode"};if(L!==e&&!w.isEmptyObject(L)){for(var M in L){var S=O[M];if(S!==e&&S){L[S]=L[M];delete L[M]}}}if(L&&L.customData){N.customData=w.copy(N.customData,L.customData,true);delete L.customData}if(L&&L.ruleData){N.ruleData=w.copy(N.ruleData,L.ruleData,true);delete L.ruleData}R._notificationOptions=w.copy(N,(L?L:{}),true);R.enableCallbacks=(typeof R._notificationOptions.enableCallbacks==="boolean"?R._notificationOptions.enableCallbacks:false);w.copy(R,B,true);R.onRun((R._notificationOptions.onRun||f["webengage.notification.onRun"]));R.onLoad((R._notificationOptions.onLoad||f["webengage.notification.onLoad"]));R.onClick((R._notificationOptions.onClick||f["webengage.notification.onClick"]));R.onClose((R._notificationOptions.onClose||f["webengage.notification.onClose"]));R.onOpen((R._notificationOptions.onOpen||f["webengage.notification.onOpen"]));w.attachEventListners("notification",R);R.dump=function(Z,W){var Y=this;var V={id:Y.notificationId,layoutId:Y.layout},X={};w.copy(V,W||{},true);V.tvc=w.getTotalTimesShown(V.id,"notification",false,(Z==="abs_view"?true:false));V.tvcs=w.getTotalTimesShown(V.id,"notification",true,(Z==="abs_view"?true:false));if(!w.isEmptyObject(Y.layoutAttributes)){V.layoutAttrs=Y.layoutAttributes}if(!w.isEmptyObject(Y.config)){V.theme=Y.config}if(!w.isEmptyObject(Y._notificationOptions.tokens)){V.tokens=w.copy({},Y._notificationOptions.tokens)}if(!w.isEmptyObject(Y._notificationOptions.ruleData)){V.ruleData=Y._notificationOptions.ruleData}if(Y.clickedCTA){V.cta=Y.clickedCTA}this.executeCallbacks("dump",V,Z);if(!w.isEmptyObject(Y._notificationOptions.customData)){X=Y._notificationOptions.customData}c.dump("notification_"+Z,X,V)};if(R._notificationOptions.previewJson!==e){w.withWeJquery(function(){H.apply(R)})}else{if(E.notification&&(E.notification.isEnabled||R._notificationOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isNQuotaOver){var T=E.notification.order,P=E.notification.ruleMap;R.totalTimeElapsed=0;var Q=R._notificationOptions.notificationId;if(Q&&P[Q]){var U=[];U[0]=Q;T=U}R.startExecutionTime=(new Date()).getTime();G(T,P,R)}else{if(E.notification&&E.notification.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Notification - Widget turned off for SSL encrypted page","Notification - Widget turned off for SSL encrypted page")}}}})})},getNotificationFrame:function(){return a.getElementById(s.widgetContainerId+"-notification-frame")},resize:function(N){var M=a.getElementById(s.widgetContainerId+"-notification-frame");M.height=N.height||M.contentWindow.document.body.scrollHeight;M.width=N.width||M.contentWindow.document.body.scrollWidth;var L=M.style;L.visibility="visible";L.height=parseInt(N.height||M.contentWindow.document.body.scrollHeight)+"px";L.width=parseInt(N.width||M.contentWindow.document.body.scrollWidth)+"px";L.top="auto";L.bottom="0px";L.left="auto";if("right"==N.launchType){L.right="0px"}else{L.left="0px"}},clear:function(){var L=this;c.withELog(function(){try{c.IFRAMES.remove(s.widgetContainerId+"-notification-frame")}catch(M){}K=[]})},abort:function(){w.abortAllInstances(K)},attachEventListner:function(){var L=this,M=arguments;c.withELog(function(){w.bind.apply(L,M);if(K.length>0){for(var N=0;N<K.length;N++){K[N].enableCallbacks=true;w.bind.apply(K[N],M)}}})}}})());w.extend("",{abort:function(){c.withELog(function(){c.feedback.abort();c.survey.abort();c.notification.abort()})}});w.extend("",{init:function(G){var H=function(I){if(G[I]!==e&&G[I]){f["webengage."+I]=G[I]}};H("licenseCode");H("language");H("isDemoMode");H("delay");f["webengage.widgetVersion"]="3.0";if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){w.onDocReady(u)}return c}});w.extend("",{onReady:function(G){if(G!==e&&typeof G==="function"){f["webengage.oldOnReady"]=G}}});w.extend("",{render:function(G){if(G){if(G.showFeedbackByDefault!==e&&!G.showFeedbackByDefault){f["webengage.feedback.defaultRender"]=false}if(G.showSurveyByDefault!==e&&!G.showSurveyByDefault){f["webengage.survey.defaultRender"]=false}if(G.showNotificationByDefault!==e&&!G.showNotificationByDefault){f["webengage.notification.defaultRender"]=false}}o()}});var u=function(){m=f["webengage.licenseCode"];var I=a.createElement("webengagedata");a.body.insertBefore(I,null);s.weDataContainer=I;try{var M=a.createElement("style");var J=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}");M.type="text/css";if(M.styleSheet){M.styleSheet.cssText=J.nodeValue}else{M.appendChild(J)}s.weDataContainer.appendChild(M)}catch(L){}var G=a.createElement("div");G.setAttribute("id",s.widgetContainerId);s.weDataContainer.appendChild(G);s.widgetContainer=G;var H=w.getWebengageCookie();if(!H){H=w.setWebengageCookie()}else{if(!H.luid){H=w.setWebengageCookie(H)}}var K=w.getSessionCookie();if(!K||!K.suid){K=w.setSessionCookie(K,true);H=w.updateTSC()}H=w.updateTPVC();if(typeof H.isGzip==="undefined"||!H.isGzip){w.loadScript.apply(s.widgetContainer,["//z.webengage.com/gz.js",function(){H=w.setGZIPFlag((typeof f.isGzip!="undefined"&&f.isGzip?true:false));q(H.isGzip,H.luid,K.suid)}])}else{q(H.isGzip,H.luid,K.suid)}};var q=function(H,I,G){d.webengage.setTimeout(function(){var K=(H?"webengage-zfiles":"webengage-files");var J="//s3.amazonaws.com/"+K+"/webengage/"+m+"/v3.js?r="+Math.floor((new Date()).getTime()/60000)+"&u="+I+"|"+G;w.loadScript.apply(s.widgetContainer,[J,function(){var L=c.setInterval(function(){if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap.config){clearInterval(L);if(((webengage_fs_configurationMap.sites!==e&&webengage_fs_configurationMap.sites)||(webengage_fs_configurationMap.domain!==e&&webengage_fs_configurationMap.domain))&&!f["webengage.isDemoMode"]){var R=false;var M=w.getClientPageHost(),P;if(M.match(/\:[\d]*$/)){P=M.substring(M.indexOf(":")+1,M.length);M=M.substring(0,M.indexOf(":"))}var X=[];var S=[];if(webengage_fs_configurationMap.sites===e||!webengage_fs_configurationMap.sites){webengage_fs_configurationMap.sites={};webengage_fs_configurationMap.sites[webengage_fs_configurationMap.domain]="DOMAIN"}for(var V in webengage_fs_configurationMap.sites){var T=V,W;if(webengage_fs_configurationMap.sites[V]=="DOMAIN"){X[X.length]=T;if(T.match(/^www\./i)){T=T.substring(4,T.length)}if(T.match(/\:[\d]*$/)){W=T.substring(T.indexOf(":")+1,T.length);T=T.substring(0,T.indexOf(":"))}if((M.match(new RegExp(w.escapeForRegExp(T)+"$","gi"))&&(!W||W==P))){R=true;break}}else{if(webengage_fs_configurationMap.sites[V]=="REGEXP"){var O=T;S[S.length]=T;if((w.getClientPageUrl().match(O))){R=true;break}}}}R=(f["webengage.notification.previewJson"]?true:R);if(!R){var Q='The <a style="color: #00f;" href="http://webengage.com/" target="_blank">WebEngage (Survey, Feedback &amp; Notification)</a> widget on this page is incorrectly configured. It is meant for use only on ';if(X.length>0){Q+="<b>"+X.join(", ")+"</b>"}if(S.length>0){if(X.length>0){Q+=(" and ")}Q+=("pages with URLs that matches following regular expression(s) <b>"+S.join(", ")+"</b>")}c.logger.error(Q+".");return}}s.publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;w.copy(E,(function(Y){return{configurationMap:Y?Y:{}}})(webengage_fs_configurationMap));var U=w.getSessionCookie(),N=w.getWebengageCookie();if(!f["webengage.isDemoMode"]&&!U.vtd){c.dump("visitor_new_session",null,{lp:a.location.href});w.setVTD();w.setLST()}y(K)}},1)},null,function(){}])},(f["webengage.delay"]&&parseInt(f["webengage.delay"])>0?parseInt(f["webengage.delay"]):0))},F=function(K,G,I,J){var H="//s3.amazonaws.com/"+K+"/webengage/"+m+"/"+G[I]+".js?r="+J[I];w.loadScript.apply(s.widgetContainer,[H,function(){if(I==(G.length-1)){g()}else{F.apply(this,[K,G,(I+1),J])}}])},k=function(L){var H=f["webengage.customWidgetCode.ruleData"]||f["webengage.ruleData"]||{};customWidgetCodeIdsToExecuteClient=[];customWidgetCodeIdsToExecuteClientTimestamps=[];if(webengage_fs_configurationMap.cwcRuleList){var J=webengage_fs_configurationMap.cwcRuleList;for(var I=0;I<J.length;I++){var K=J[I].ruleCode;if(K){if(!c.ruleExecutor.execute(J[I].cwcEncId,K,H)){continue}}var G=customWidgetCodeIdsToExecuteClient.length;customWidgetCodeIdsToExecuteClient[G]=J[I].cwcEncId;customWidgetCodeIdsToExecuteClientTimestamps[G]=J[I].lastModifiedTimestamp}}if(customWidgetCodeIdsToExecuteClient.length>0){F.apply(this,[L,customWidgetCodeIdsToExecuteClient,0,customWidgetCodeIdsToExecuteClientTimestamps])}else{g()}},y=function(G){if((a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){w.usckwl(webengage_fs_configurationMap.domain);if(webengage_fs_configurationMap.cwcRuleList&&webengage_fs_configurationMap.cwcRuleList.length>0){k(G)}else{g()}}else{if(a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Widget turned off for SSL encrypted page","CustomWidgetCode - Widget turned off for SSL encrypted page")}}},g=function(){(function(H){w.extend("widgetConfiguration",{});if(H&&H.config){w.copy(E,{feedback:{isEnabled:(typeof H.config.enableFeedback=="boolean"&&H.config.enableFeedback),config:H.config.feedbackConfig?H.config.feedbackConfig:{}}},true);w.copy(E,{survey:{isEnabled:(typeof H.config.enableSurvey=="boolean"&&H.config.enableSurvey),config:H.config.surveyConfig?H.config.surveyConfig:{},order:[],ruleMap:{}}},true);(function(K){if(H.surveyRuleList){var I=H.surveyRuleList;for(var J=0;J<I.length;J++){K.order[J]=I[J].surveyEncId;K.ruleMap[I[J].surveyEncId]=I[J]}}})(E.survey);w.copy(E,{notification:{isEnabled:(typeof H.config.enableNotification=="boolean"&&H.config.enableNotification),order:[],ruleMap:{}}},true);(function(J){if(H.notificationRuleList){var K=H.notificationRuleList;for(var I=0;I<K.length;I++){J.order[I]=K[I].notificationEncId;J.ruleMap[K[I].notificationEncId]={ruleCode:K[I].ruleCode,timespent:parseInt(K[I].timeSpent)!="NaN"?parseInt(K[I].timeSpent):0,totalTimeOnSite:parseInt(K[I].totalTimeOnSite)!="NaN"?parseInt(K[I].totalTimeOnSite):0,actionLinks:K[I].actionLinks||[],skipTargetPage:typeof(K[I].skipTargetPage)=="boolean"?K[I].skipTargetPage:false,maxTimesPerUser:K[I].maxTimesPerUser,startTimestamp:K[I].startTimestamp,endTimestamp:K[I].endTimestamp,layout:K[I].layout,version:((typeof K[I].v!="undefined")?K[I].v:0),showOnExit:K[I].showOnExit,mobile:K[I].mobile,sampling:K[I].sampling}}}})(E.notification);w.copy(E,{sslEnabled:(H.sslEnabled?H.sslEnabled:false),isSRQuotaOver:(H.isSRQ?H.isSRQ:false),isNQuotaOver:(H.isNQ?H.isNQ:false),isFQuotaOver:(H.isFQ?H.isFQ:false)},true);w.uwats(H.lastWidgetCheckDate)}function G(){var I=[];v=true;if(f["webengage.oldOnReady"]!==e&&typeof f["webengage.oldOnReady"]==="function"){I[I.length]=f["webengage.oldOnReady"];I[I.length]=D}else{if(f["webengage.onReady"]!==e&&typeof f["webengage.onReady"]==="function"){I[I.length]=f["webengage.onReady"]}I[I.length]=D;I[I.length]=o}var J=function(M){for(var L=0,K=M.length;L<K;L++){if(typeof M[L]==="function"){c.withELog(function(){M[L].call(c)},null,true)}else{if(w.isArray(M[L])){J(M[L])}}}};J(I);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&d.attachEvent){d.attachEvent("onbeforeunload",function(){c.withELog(function(){c.winUnloading=true;w.setWebengageCookie(w.getWebengageCookie());w.updateSessionCookie(w.getSessionCookie())})})}}if(H&&H.goals!==e&&H.goals instanceof Array){w.loadScript.apply(s.widgetContainer,[s.csUrl,function(){if(c.goals&&typeof c.goals.init==="function"){c.goals.init(H)}}])}if(H&&H.GAEnabled){if((f["GA.universalAnalyticsFunction"]&&typeof d[f["GA.universalAnalyticsFunction"]]==="function")||typeof d.ga==="function"||d._gaq){w.loadScript.apply(s.widgetContainer,[s.gaCallbacksScriptUrl,G,null,G])}else{c.eLog(f["webengage.licenseCode"],"error","_gaq/ga undefined - not loading ga-callback-helper","_gaq/ga undefined");G()}}else{G()}})(E.configurationMap)},o=function(){var G=function(I){var H=typeof f["webengage."+I+".defaultRender"]==="boolean"?f["webengage."+I+".defaultRender"]:f["webengage.defaultRender"];return(typeof H==="boolean"?H:true)};if(G("feedback")){setTimeout(function(){c.feedback.render()},1)}if(G("survey")){setTimeout(function(){c.survey.render()},1)}if(G("notification")){setTimeout(function(){c.notification.render()},1)}};if(d.webengageWidgetInit!==e&&typeof d.webengageWidgetInit==="function"){d.webengageWidgetInit()}else{var r=a.getElementsByTagName("webengage")[0];if(r&&r.attributes){var p=r.attributes;f["webengage.licenseCode"]=p.license.value;f["webengage.language"]=(p.language?p.language.value:"");if(p.feedbackButtonAlignment){f["webengage.feedback.alignment"]=p.feedbackButtonAlignment.value}if(p.feedbackExternalLinkId){f["webengage.feedback.externalLinkId"]=p.feedbackExternalLinkId.value}}if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){w.onDocReady(u)}}var t=function(G){try{return sessionStorage.getItem(G)}catch(H){return null}};var A=function(G,H){try{sessionStorage.setItem(G,H)}catch(I){}};if(location.search.indexOf("libraryScript")>-1||t("webengage-library")=="true"){var h=new RegExp("[\\?&]libraryScript=([^&#]*)");var x=h.exec(location.search);var C;if(x!=null){C=decodeURIComponent(x[1]);A("webengage-library-script",C)}else{if(t("webengage-library-script")){C=t("webengage-library-script")}}A("webengage-library","true");if(C){c.util.withWeJquery(function(){c.util.loadScript.apply(s.widgetContainer,["//d3701cc9l7v9a6.cloudfront.net/js/library/"+C+".js?v=463.0",function(){c.feedback.abort();c.survey.abort();c.notification.abort();A("webengage-library","true")}])})}}};if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b()}else{if(d.addEventListener){d.addEventListener("load",function(){b()},false)}else{if(d.attachEvent){d.attachEvent("onload",function(){b()})}}}}else{b()}c.getUser=function(){var g=c.util.getSessionCookie();return{pageUrl:d.location.href,pageTitle:a.title,referrer:(a.referrer||""),browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),platform:c.BrowserDetect.os(),ip:(g?g.ip:""),city:(g?g.city:""),country:(g?g.country:"")}};c.reload=function(){c.feedback.clear();c.survey.clear();c.notification.clear();var g=a.getElementsByTagName("webengagedata")[0];if(g){g.parentNode.removeChild(g)}(function(m){var k=m.createElement("script");k.type="text/javascript";k.async=true;k.src=(m.location.protocol=="https:"?"https://ssl.widgets.webengage.com":"http://cdn.widgets.webengage.com")+"/js/widget/webengage-min-v-4.0.js";var h=m.getElementById("_webengage_script_tag");h.parentNode.insertBefore(k,h)})(a)}})(window,document,_weq,webengage)},10);