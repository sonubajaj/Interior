function viewModel(t,e){function i(t){if("undefined"==typeof e)var e=200;timeOut=e,setTimeout(t,timeOut)}function n(t){var e=new XMLHttpRequest;e.open("GET",w+t+".rif",!0),I.show(),e.send(null),s(r,250),e.onreadystatechange=function(){if(4==e.readyState){if(200==e.status||0==e.status){dataURL=e.responseText,v=dataURL.split("%&(");var t=v.length-1;E=t;for(var i=0;t>i;i++)F[i]="data:image/gif;base64,"+v[i];"undefined"!=typeof numberOfRotations||(numberOfRotations=1),y=z/(E*numberOfRotations),_=-1*y,a(0),I.hide(),P.hide(),L.attr("src",base_url+"img/ASimage2.png"),$.show(),mouse_up_mover?R.removeClass("tooltipmoving").addClass("tooltipstopped"):R.html("<< Click and drag to Turnaround  >>")}}else I.show()}}function a(t){q.attr("src",F[t]),q.css("background-image","url(data:image/gif;base64,"+v[t]+")")}function r(){T+=2,100>T&&s(r)}function s(t){setTimeout(t,200)}function o(t){R.show(),O.hide(),(1==clc_clicked||1==anti_clc_clicked)&&(clc_clicked=!1,anti_clc_clicked=!1,stop_clicked=!0),t=t.originalEvent.touches&&t.originalEvent.touches.length?t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length?t.originalEvent.changedTouches[0]:jQuery.event.fix(t),g=t.pageX,void 0===g&&(g=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft),C?(C=!1,S=!0):(C=!0,S=!1,$.bind("touchmove mousemove",c),O.bind("touchmove mousemove",c)),auto_rotate=!1}function l(){mouse_up_mover?j?(C=!0,j=!1,S=!1):(C=!1,j=!0,S=!0,R.removeClass("tooltipmoving").addClass("tooltipstopped")):(C=!1,S=!0,R.html("<< Drag to Turnaround. Double click to zoom >>"),$.bind("touchmove mousemove",null),O.bind("touchmove mousemove",null))}function c(t){if(1==clc_clicked||1==anti_clc_clicked)return C=!1,void(S=!1);if(t=t.originalEvent.touches&&t.originalEvent.touches.length?t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length?t.originalEvent.changedTouches[0]:jQuery.event.fix(t),C){A=t.pageX,void 0===A&&(A=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);var e=g-A;e>=y?(mouse_up_mover?R.removeClass("tooltipstopped").addClass("tooltipmoving"):R.html("Double click to zoom"),k+=1,k==E&&(k=0),g=A,a(k)):_>=e&&(mouse_up_mover?R.removeClass("tooltipstopped").addClass("tooltipmoving"):R.html("Double click to zoom"),k-=1,-1==k&&(k=E-1),g=A,a(k))}}function u(){document.getElementById("modelCanvasElement1");E=F.length,1!=stop_clicked&&0!=anti_clc_clicked&&(k>0?(k-=1,a(k),i(u)):(k=E-1,a(k),i(u)))}function d(){document.getElementById("modelCanvasElement1");E=F.length,1!=stop_clicked&&0!=clc_clicked&&(E>k?(a(k),i(d),k++):(a(0),k=1,i(d)))}function h(){1!=clc_clicked&&(m(),C=!1,clc_clicked=!0,anti_clc_clicked=!1,stop_clicked=!1,setTimeout(d,50))}function f(){1!=anti_clc_clicked&&(m(),C=!1,anti_clc_clicked=!0,clc_clicked=!1,stop_clicked=!1,setTimeout(u,50))}function m(){stop_clicked=!0,clc_clicked=!1,anti_clc_clicked=!1}function p(){document.getElementById("modelCanvasElement1");stop_clicked=!0,clc_clicked=!1,anti_clc_clicked=!1,k=0,a(k)}var g,v,b,e,b,y=30,_=-30,w=base_url+"rifs/",F=new Array,x=new Image,k=0,C=!1,E=1,T=2,S=!0,j=(new Array,new Image,!0),A=0,D=jQuery(t),$=jQuery(t+" > .imagecontainer"),q=jQuery(t+" > .imagecontainer > .modelCanvasElement1"),I=jQuery(t+" > .dvloader"),L=jQuery(t+" > .dvloader > .loading"),P=jQuery(t+" > .dvloader > .progressBar"),O=(jQuery(t+" > .imagecontainer > .clipDiv"),jQuery(t+" > .imagecontainer > .playImageId")),R=jQuery(t+" > .tooltipdiv"),z=D.width(),Q=D.height();b={zoomWidth:z,zoomHeight:Q,position:"inside",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:1,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0};$.bind("touchstart",function(){C=!1,y=2,_=-2}),$.bind("touchstart mousedown",o),$.bind("touchend mouseup",l),O.bind("touchstart",function(){C=!1,y=2,_=-2}),O.bind("touchstart mousedown",o),O.bind("touchend mouseup",l),n(e),$.css("cursor","pointer"),x.onload=function(){x.width,x.height,jQuery(window).height(),jQuery(window).width(),x.height,x.width};var M=jQuery(t+" > .buttondiv > .move_clockwise_button");null!=M&&M.bind("click",h);var H=jQuery(t+" > .buttondiv > .move_anticlockwise_button");null!=H&&H.bind("click",f);var N=jQuery(t+" > .buttondiv > .stop_button");null!=N&&N.bind("click",m);var U=jQuery(t+" > .buttondiv > .reset_button");null!=U&&U.bind("click",p)}function format(t){for(var e=1;e<arguments.length;e++)t=t.replace("%"+(e-1),arguments[e]);return t}function measureText(t,e,i){var n=document.createElement("lDiv");document.body.appendChild(n),null!=i&&(n.style=i),n.style.fontSize=""+e+"px",n.style.position="absolute",n.style.left=-1e3,n.style.top=-1e3,n.innerHTML=t;var a={width:n.clientWidth,height:n.clientHeight};return document.body.removeChild(n),n=null,a}function startup(){"undefined"==typeof base_url&&(base_url=""),play360(null,null)}function play360(t,e){var i=0,n=0,a=!0;if(null==t?(t="#canvasDiv",a=!1):t="#"+t,null==e){var r="model";if("undefined"==typeof modelId){r=r.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var s="[\\?&]"+r+"=([^&#]*)",o=new RegExp(s),l=o.exec(window.location.href);e=l[1]}else e=modelId}var c=new Image,u=new Image;u.onload=function(){i=u.width,n=u.height;document.getElementById("loading");c.onload=function(){var r=0,s=0,o=(jQuery(window).height(),jQuery(window).width());1==a?(r=jQuery(t).width(),s=jQuery(t).height()):(r=c.width,s=c.height,jQuery("#canvasDiv").css({position:"absolute",height:s,width:r,top:0,left:o/2-r/2,border:"0px solid #ccc"}).show()),jQuery(t).show(),i>=r&&(i=r),jQuery(t+" > .dvloader > .loading").css({"background-image":"url("+base_url+"store/"+e+"/1.jpg) ",width:r,height:s}).show(),jQuery(t+" > .dvloader").css({position:"absolute",width:"100%",height:"100%","z-index":"2"}).show(),jQuery(t+" > .imagecontainer").css({position:"absolute",width:"100%",height:"100%","z-index":"2"}),jQuery(t+" > .imagecontainer > .clipDiv").css({position:"relative",width:r,height:s,top:-s,left:0,"z-index":"-1"}),jQuery(t+" > .imagecontainer > .playImageId").css({position:"relative",width:i,height:n,top:-(s+8)/2-n/2,left:(r-i)/2,"z-index":"3"}),"undefined"!=typeof show_playerbuttons&&show_playerbuttons&&jQuery(t+" > .buttondiv").css({position:"relative",width:r,top:s,left:-1,"text-align":"center","z-index":"99"}).show(),jQuery(t+" > .tooltipdiv").css({position:"relative",width:r,top:s,left:-1,"text-align":"center","z-index":"99"}),jQuery(t+" > .dvloader > .progressBar").css({position:"relative",width:i,top:-(s+8)/2-n/2,left:(r-i)/2,color:"#FFFFFF","font-family":"Helvetica","text-align":"center"}).show(),jQuery(t+" > .dvloader > .progressBar > .pbImg").css({width:i,height:n}).show(),viewModel(t,e),jQuery(t).is(":visible")},c.onerror=function(){var e=jQuery(t).width(),i=jQuery(t).height();if(0==i)alert("model not found");else{var n="<img src="+base_url+"img/no360.png height="+i+" width="+e+"/>";jQuery(t).append(n)}},c.src=base_url+"store/"+e+"/1.jpg",jQuery(t+" > .dvloader > .loading").attr("src",c.src)},u.src=base_url+"img/ASimage2.png"}function setupBlocks(){windowWidth=jQuery("#testicontainer").width(),colWidth=jQuery(".testiblock").outerWidth(),testiblocks=[],colCount=Math.floor(windowWidth/(colWidth+margin));for(var t=0;colCount>t;t++)testiblocks.push(margin);positionBlocks()}function positionBlocks(){jQuery(".testiblock").each(function(){var t=Array.min(testiblocks),e=jQuery.inArray(t,testiblocks),i=margin+e*(colWidth+margin);jQuery(this).css({left:i+"px",top:t+"px",position:"absolute",visibility:"visible"}),testiblocks[e]=t+jQuery(this).outerHeight()+margin});var t=Array.max(testiblocks);jQuery("#testicontainer").css({height:t+"px"})}function fetchAjaxData(){var t=jQuery("#testiFetchLoader");t.show();var e=parseInt(t.data("page"))+1;jQuery.ajax({url:"/testimonials/list?p="+e,method:"GET",success:function(i){i.length>0?(t.data("page",e),t.hide(),jQuery(".testiblock:last").after(i),jQuery(window).data("ajaxready",!0),jQuery(".testiblock").each(function(){jQuery(this).find("img").load(function(){var t=jQuery(this).height();t=parseInt(t)+20,jQuery(this).find(".testiimg").css({height:t+"px"}),setupBlocks()})})):(t.hide(),jQuery(window).unbind("scroll"))},error:function(){t.hide(),jQuery(window).unbind("scroll")}})}!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote], button[data-confirm]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var a=t.Event(i);return e.trigger(a,n),a.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var a,r,s,o,l,c,u,d;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),l=o===e?null:o,c=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){a=n.attr("method"),r=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(a=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(a=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(a=n.data("method"),r=i.href(n),s=n.data("params")||null);return d={type:a||"GET",data:s,dataType:u,beforeSend:function(t,a){return a.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),i.fire(n,"ajax:beforeSend",[t,a])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),r&&(d.url=r),i.ajax(d)}return!1},handleMethod:function(n){var a=i.href(n),r=n.data("method"),s=n.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&o!==e&&(u+='<input name="'+l+'" value="'+o+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),a=!1;return n?(i.fire(t,"confirm")&&(a=i.confirm(n),e=i.fire(t,"confirm:complete",[a])),a&&e):!0},blankInputs:function(e,i,n){var a,r,s=t(),o=i||"input,textarea",l=e.find(o);return l.each(function(){if(a=t(this),r=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!r==!n){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;s=s.add(a)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var a=t(this),r=a.data("method"),s=a.data("params"),o=n.metaKey||n.ctrlKey;if(!i.allowAction(a))return i.stopEverything(n);if(!o&&a.is(i.linkDisableSelector)&&i.disableElement(a),a.data("remote")!==e){if(o&&(!r||"GET"===r)&&!s)return!0;var l=i.handleRemote(a);return l===!1?i.enableElement(a):l.error(function(){i.enableElement(a)}),!1}return a.data("method")?(i.handleMethod(a),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var a=i.handleRemote(n);return a===!1?i.enableFormElement(n):a.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var a,r,s=t(this),o=s.data("remote")!==e;if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")==e&&(a=i.blankInputs(s,i.requiredInputSelector),a&&i.fire(s,"ajax:aborted:required",[a])))return i.stopEverything(n);if(o){if(r=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var a=n.attr("name"),r=a?{name:a,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function n(){var n;return i.settings.submitHandler?(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n=this[0];if(e){var a=t.data(n.form,"validator").settings,r=a.rules,s=t.validator.staticRules(n);switch(e){case"add":t.extend(s,t.validator.normalizeRule(i)),delete s.messages,r[n.name]=s,i.messages&&(a.messages[n.name]=t.extend(a.messages[n.name],i.messages));break;case"remove":if(!i)return delete r[n.name],s;var o={};return t.each(i.split(/\s/),function(t,e){o[e]=s[e],delete s[e]}),o}}var l=t.validator.normalizeRules(t.extend({},t.validator.classRules(n),t.validator.attributeRules(n),t.validator.dataRules(n),t.validator.staticRules(n)),n);if(l.required){var c=l.required;delete l.required,l=t.extend({required:c},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,"");i.settings[n]&&i.settings[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})});var n=this.settings.rules;t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),n=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof n?n.replace(/\r/g,""):n},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n=t(e).rules(),a=!1,r=this.elementValue(e);for(var s in n){var o={method:s,parameters:n[s]};try{if(i=t.validator.methods[s].call(this,r,e,o.parameters),"dependency-mismatch"===i){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,o),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",l),l}}return a?void 0:(this.objectLength(n)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),a=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):a.test(n)&&(n=t.validator.format(n.replace(a,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n=this.errorsFor(e);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(i)):(n=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},n=t(e),a=n[0].getAttribute("type");for(var r in t.validator.methods){var s;"required"===r?(s=n.get(0).getAttribute(r),""===s&&(s=!0),s=!!s):s=n.attr(r),/min|max/.test(r)&&(null===a||/number|range|text/.test(a))&&(s=Number(s)),s?i[r]=s:a===r&&"range"!==a&&(i[r]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,n,a={},r=t(e);for(i in t.validator.methods)n=r.data("rule-"+i.toLowerCase()),void 0!==n&&(a[i]=n);return a},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,a){if(a===!1)return void delete e[n];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!t(a.depends,i.form).length;break;case"function":r=a.depends.call(i,i)}r?e[n]=void 0!==a.param?a.param:!0:delete e[n]}}),t.each(e,function(n,a){e[n]=t.isFunction(a)?a(i):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var a=t(i).val();return a&&a.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)
},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,n=0,a=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var s=t.charAt(r);n=parseInt(s,10),a&&(n*=2)>9&&(n-=9),i+=n,a=!a}return i%10===0},minlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||a>=n},maxlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||n>=a},rangelength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var a=t(n);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===a.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var a=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,n="string"==typeof n&&{url:n}||n,a.old===e)return a.valid;a.old=e;var r=this;this.startRequest(i);var s={};return s[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,success:function(n){r.settings.messages[i.name].remote=a.originalMessage;var s=n===!0||"true"===n;if(s){var o=r.formSubmitted;r.prepareElement(i),r.formSubmitted=o,r.successList.push(i),delete r.invalid[i.name],r.showErrors()}else{var l={},c=n||r.defaultMessage(i,"remote");l[i.name]=a.message=t.isFunction(c)?c(e):c,r.invalid[i.name]=!0,r.showErrors(l)}a.valid=s,r.stopRequest(i,s)}},n)),"pending"}}}),t.format=t.validator.format}(jQuery),!function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,n){var a=t.port;"abort"===t.mode&&(e[a]&&e[a].abort(),e[a]=n)});else{var i=t.ajax;t.ajax=function(n){var a=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"===a?(e[r]&&e[r].abort(),e[r]=i.apply(this,arguments),e[r]):i.apply(this,arguments)}}}(jQuery),!function(t){t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var a=t(i.target);return a.is(e)?n.apply(a,arguments):void 0})}})}(jQuery);var Query=function(t){"use strict";var e=function(t){var e,i,n,a,r=[];if("undefined"==typeof t||null===t||""===t)return r;for(0===t.indexOf("?")&&(t=t.substring(1)),i=t.toString().split(/[&;]/),e=0;e<i.length;e++)n=i[e],a=n.split("="),r.push([a[0],a[1]]);return r},i=e(t),n=function(){var t,e,n="";for(t=0;t<i.length;t++)e=i[t],n.length>0&&(n+="&"),n+=e.join("=");return n.length>0?"?"+n:n},a=function(t){return t=decodeURIComponent(t),t=t.replace("+"," ")},r=function(t){var e,n;for(n=0;n<i.length;n++)if(e=i[n],a(t)===a(e[0]))return e[1]},s=function(t){var e,n,r=[];for(e=0;e<i.length;e++)n=i[e],a(t)===a(n[0])&&r.push(n[1]);return r},o=function(t,e){var n,r,s,o,l=[];for(n=0;n<i.length;n++)r=i[n],s=a(r[0])===a(t),o=a(r[1])===a(e),(1===arguments.length&&!s||2===arguments.length&&!s&&!o)&&l.push(r);return i=l,this},l=function(t,e,n){return 3===arguments.length&&-1!==n?(n=Math.min(n,i.length),i.splice(n,0,[t,e])):arguments.length>0&&i.push([t,e]),this},c=function(t,e,n){var r,s,c=-1;if(3===arguments.length){for(r=0;r<i.length;r++)if(s=i[r],a(s[0])===a(t)&&decodeURIComponent(s[1])===a(n)){c=r;break}o(t,n).addParam(t,e,c)}else{for(r=0;r<i.length;r++)if(s=i[r],a(s[0])===a(t)){c=r;break}o(t),l(t,e,c)}return this};return{getParamValue:r,getParamValues:s,deleteParam:o,addParam:l,replaceParam:c,toString:n}},Uri=function(t){"use strict";var e=!1,i=function(t){for(var i={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],a={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},r=i[e?"strict":"loose"].exec(t),s={},o=14;o--;)s[n[o]]=r[o]||"";return s[a.name]={},s[n[12]].replace(a.parser,function(t,e,i){e&&(s[a.name][e]=i)}),s},n=i(t||""),a=new Query(n.query),r=function(t){return"undefined"!=typeof t&&(n.protocol=t),n.protocol},s=null,o=function(t){return"undefined"!=typeof t&&(s=t),null===s?-1!==n.source.indexOf("//"):s},l=function(t){return"undefined"!=typeof t&&(n.userInfo=t),n.userInfo},c=function(t){return"undefined"!=typeof t&&(n.host=t),n.host},u=function(t){return"undefined"!=typeof t&&(n.port=t),n.port},d=function(t){return"undefined"!=typeof t&&(n.path=t),n.path},h=function(t){return"undefined"!=typeof t&&(a=new Query(t)),a},f=function(t){return"undefined"!=typeof t&&(n.anchor=t),n.anchor},m=function(t){return r(t),this},p=function(t){return o(t),this},g=function(t){return l(t),this},v=function(t){return c(t),this},b=function(t){return u(t),this},y=function(t){return d(t),this},_=function(t){return h(t),this},w=function(t){return f(t),this},F=function(t){return h().getParamValue(t)},x=function(t){return h().getParamValues(t)},k=function(t,e){return 2===arguments.length?h().deleteParam(t,e):h().deleteParam(t),this},C=function(t,e,i){return 3===arguments.length?h().addParam(t,e,i):h().addParam(t,e),this},E=function(t,e,i){return 3===arguments.length?h().replaceParam(t,e,i):h().replaceParam(t,e),this},T=function(){var t="",e=function(t){return null!==t&&""!==t};return e(r())?(t+=r(),r().indexOf(":")!==r().length-1&&(t+=":"),t+="//"):o()&&e(c())&&(t+="//"),e(l())&&e(c())&&(t+=l(),l().indexOf("@")!==l().length-1&&(t+="@")),e(c())&&(t+=c(),e(u())&&(t+=":"+u())),e(d())?t+=d():e(c())&&(e(h().toString())||e(f()))&&(t+="/"),e(h().toString())&&(0!==h().toString().indexOf("?")&&(t+="?"),t+=h().toString()),e(f())&&(0!==f().indexOf("#")&&(t+="#"),t+=f()),t},S=function(){return new Uri(T())};return{protocol:r,hasAuthorityPrefix:o,userInfo:l,host:c,port:u,path:d,query:h,anchor:f,setProtocol:m,setHasAuthorityPrefix:p,setUserInfo:g,setHost:v,setPort:b,setPath:y,setQuery:_,setAnchor:w,getQueryParamValue:F,getQueryParamValues:x,deleteQueryParam:k,addQueryParam:C,replaceQueryParam:E,toString:T,clone:S}},jsUri=Uri;(function(){window.Spree=function(){function t(){}return t.ready=function(t){return jQuery(document).ready(t)},t.url=function(e,i){return void 0===e.path&&(e=new Uri(e)),i&&$.each(i,function(t,i){return e.addQueryParam(t,i)}),t.api_key&&e.addQueryParam("token",t.api_key),e},t.uri=function(t,e){return url(t,e)},t.ajax=function(e,i){var n;return"string"==typeof e?$.ajax(t.url(e).toString(),i):(n=e.url,delete e.url,$.ajax(t.url(n).toString(),e))},t}()}).call(this),function(){Spree.ready(function(t){return t("form#update-cart").is("*")&&t("form#update-cart a.delete").show().one("click",function(){return t(this).parents(".line-item").first().find("input.line_item_quantity").val(0),t(this).parents("form").first().submit(),!1}),t("form#update-cart").submit(function(){return t("form#update-cart #update-button").attr("disabled",!0)})}),Spree.fetch_cart=function(){return $.ajax({url:Spree.routes.cart_link,success:function(t){return $("#link-to-cart").html(t)}})}}.call(this),function(t,e,i,n){"use strict";function a(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^[\\/'"]+|(;\s?})+|[\\/'"]+$/g,"")),t}0===t("head").has(".foundation-mq-small").length&&t("head").append('<meta class="foundation-mq-small">'),0===t("head").has(".foundation-mq-medium").length&&t("head").append('<meta class="foundation-mq-medium">'),0===t("head").has(".foundation-mq-large").length&&t("head").append('<meta class="foundation-mq-large">'),0===t("head").has(".foundation-mq-xlarge").length&&t("head").append('<meta class="foundation-mq-xlarge">'),0===t("head").has(".foundation-mq-xxlarge").length&&t("head").append('<meta class="foundation-mq-xxlarge">'),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var r=function(e,n){return"string"==typeof e?t(n?n.querySelectorAll(e):i.querySelectorAll(e)):t(e,n)};e.matchMedia=e.matchMedia||function(t){var e,i=t.documentElement,n=i.firstElementChild||i.firstChild,a=t.createElement("body"),r=t.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(r),function(t){return r.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(a,n),e=42===r.offsetWidth,i.removeChild(a),{matches:e,media:t}}}(i),function(){function t(){i&&(r(t),jQuery.fx.tick())}for(var i,n=0,a=["webkit","moz"],r=e.requestAnimationFrame,s=e.cancelAnimationFrame;n<a.length&&!r;n++)r=e[a[n]+"RequestAnimationFrame"],s=s||e[a[n]+"CancelAnimationFrame"]||e[a[n]+"CancelRequestAnimationFrame"];r?(e.requestAnimationFrame=r,e.cancelAnimationFrame=s,jQuery.fx.timer=function(e){e()&&jQuery.timers.push(e)&&!i&&(i=!0,t())},jQuery.fx.stop=function(){i=!1}):(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),a=Math.max(0,16-(i-n)),r=e.setTimeout(function(){t(i+a)},a);return n=i+a,r},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),e.Foundation={name:"Foundation",version:"5.0.3",media_queries:{small:r(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:r(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:r(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:r(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:r(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,init:function(t,e,i,n,a){var s=[t,i,n,a],o=[];if(this.rtl=/rtl/i.test(r("html").attr("dir")),this.scope=t||this.scope,e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&o.push(this.init_lib(e,s));else for(var l in this.libs)o.push(this.init_lib(l,e));return t},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?this.libs[t].init.apply(this.libs[t],[this.scope,e[t]]):(e=e instanceof Array?e:Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.data_options=this.lib_methods.data_options,t.bindings=this.lib_methods.bindings,t.S=r,t.rtl=this.rtl},inherit:function(t,e){for(var i=e.split(" "),n=i.length-1;n>=0;n--)this.lib_methods.hasOwnProperty(i[n])&&(this.libs[t.name][i[n]]=this.lib_methods[i[n]])},random_str:function(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var i="",n=0;t>n;n++)i+=e[Math.floor(Math.random()*e.length)];return i},libs:{},lib_methods:{throttle:function(t,e){var i=null;return function(){var n=this,a=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(n,a)},e)}},data_options:function(e){function i(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function n(e){return"string"==typeof e?t.trim(e):e}var a,r,s,o,l={},c=e.data("options");if("object"==typeof c)return c;for(s=(c||":").split(";"),o=s.length,a=o-1;a>=0;a--)r=s[a].split(":"),/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),i(r[1])&&(r[1]=parseInt(r[1],10)),2===r.length&&r[0].length>0&&(l[n(r[0])]=n(r[1]));return l},delay:function(t,e){return setTimeout(t,e)},empty:function(t){if(t.length&&t.length>0)return!1;if(t.length&&0===t.length)return!0;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},register_media:function(e,i){Foundation.media_queries[e]===n&&(t("head").append('<meta class="'+i+'">'),Foundation.media_queries[e]=a(t("."+i).css("font-family")))},addCustomRule:function(t,e){if(e===n)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[e];i!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},loaded:function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()},bindings:function(e,i){var n=this,a=!r(this).data(this.name+"-init");return"string"==typeof e?this[e].call(this,i):void(r(this.scope).is("[data-"+this.name+"]")?(r(this.scope).data(this.name+"-init",t.extend({},this.settings,i||e,this.data_options(r(this.scope)))),a&&this.events(this.scope)):r("[data-"+this.name+"]",this.scope).each(function(){var a=!r(this).data(n.name+"-init");r(this).data(n.name+"-init",t.extend({},n.settings,i||e,n.data_options(r(this)))),a&&n.events(this)}))}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,this,this.document),function(t,e,i,n){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.0.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(e,i,n){var a=this;Foundation.inherit(this,"throttle loaded"),this.bindings(i,n),t(this.scope).is("[data-clearing]")?this.assemble(t("li",this.scope)):t("[data-clearing]",this.scope).each(function(){a.assemble(t("li",this))})},events:function(i){var n=this;t(this.scope).off(".clearing").on("click.fndtn.clearing","ul[data-clearing] li",function(e,i,a){var i=i||t(this),a=a||i,r=i.next("li"),s=i.closest("[data-clearing]").data("clearing-init"),o=t(e.target);e.preventDefault(),s||(n.init(),s=i.closest("[data-clearing]").data("clearing-init")),a.hasClass("visible")&&i[0]===a[0]&&r.length>0&&n.is_open(i)&&(a=r,o=t("img",a)),n.open(o,i,a),n.update_paddles(a)}).on("click.fndtn.clearing",".clearing-main-next",function(t){n.nav(t,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(t){n.nav(t,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}).on("keydown.fndtn.clearing",function(t){n.keydown(t)}),t(e).off(".clearing").on("resize.fndtn.clearing",function(){n.resize()}),this.swipe_events(i)},swipe_events:function(){var e=this;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var i={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};t(this).data("swipe-transition",i),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(i){if(i.touches||(i=i.originalEvent),!(i.touches.length>1||i.scale&&1!==i.scale)){var n=t(this).data("swipe-transition");if("undefined"==typeof n&&(n={}),n.delta_x=i.touches[0].pageX-n.start_page_x,"undefined"==typeof n.is_scrolling&&(n.is_scrolling=!!(n.is_scrolling||Math.abs(n.delta_x)<Math.abs(i.touches[0].pageY-n.start_page_y))),!n.is_scrolling&&!n.active){i.preventDefault();var a=n.delta_x<0?"next":"prev";n.active=!0,e.nav(i,a)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){t(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function(e){var i=e.parent();if(!i.parent().hasClass("carousel")){i.after('<div id="foundationClearingHolder"></div>');var n=t("#foundationClearingHolder"),a=i.data("clearing-init"),r=i.detach(),s={grid:'<div class="carousel">'+r[0].outerHTML+"</div>",viewing:a.templates.viewing},o='<div class="clearing-assembled"><div>'+s.viewing+s.grid+"</div></div>";return n.after(o).remove()}},open:function(e,i,n){var a=n.closest(".clearing-assembled"),r=t("div",a).first(),s=t(".visible-img",r),o=t("img",s).not(e);this.locked()||(o.attr("src",this.load(e)).css("visibility","hidden"),this.loaded(o,function(){o.css("visibility","visible"),a.addClass("clearing-blackout"),r.addClass("clearing-container"),s.show(),this.fix_height(n).caption(t(".clearing-caption",s),e).center(o).shift(i,n,function(){n.siblings().removeClass("visible"),n.addClass("visible")})}.bind(this)))},close:function(e,i){e.preventDefault();var n,a,r=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(i));return i===e.target&&r&&(n=t("div",r).first(),a=t(".visible-img",n),this.settings.prev_index=0,t("ul[data-clearing]",r).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),n.removeClass("clearing-container"),a.hide()),!1},is_open:function(t){return t.parent().prop("style").length>0},keydown:function(e){var i=t("ul[data-clearing]",".clearing-blackout"),n=this.rtl?37:39,a=this.rtl?39:37,r=27;e.which===n&&this.go(i,"next"),e.which===a&&this.go(i,"prev"),e.which===r&&t("a.clearing-close").trigger("click")},nav:function(e,i){var n=t("ul[data-clearing]",".clearing-blackout");e.preventDefault(),this.go(n,i)},resize:function(){var e=t("img",".clearing-blackout .visible-img");e.length&&this.center(e)},fix_height:function(e){var i=e.parent().children();return i.each(function(){var e=t(this),i=e.find("img");e.height()>i.outerHeight()&&e.addClass("fix-height")}).closest("ul").width(100*i.length+"%"),this},update_paddles:function(e){var i=e.closest(".carousel").siblings(".visible-img");e.next().length>0?t(".clearing-main-next",i).removeClass("disabled"):t(".clearing-main-next",i).addClass("disabled"),e.prev().length>0?t(".clearing-main-prev",i).removeClass("disabled"):t(".clearing-main-prev",i).addClass("disabled")},center:function(t){return t.css(this.rtl?{marginRight:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2),left:"auto",right:"50%"}:{marginLeft:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2)}),this},load:function(t){if("A"===t[0].nodeName)var e=t.attr("href");else var e=t.parent().attr("href");return this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},img:function(e){if(e.length){var i=new Image,n=t("a",e);i.src=n.length?n.attr("href"):t("img",e).attr("src")}return this},caption:function(t,e){var i=e.data("caption");return i?t.html(i).show():t.text("").hide(),this},go:function(e,i){var n=t(".visible",e),a=n[i]();a.length&&t("img",a).trigger("click",[n,a])},shift:function(t,e,i){var n,a=e.parent(),r=this.settings.prev_index||e.index(),s=this.direction(a,t,e),o=this.rtl?"right":"left",l=parseInt(a.css("left"),10),c=e.outerWidth(),u={};e.index()===r||/skip/.test(s)?/skip/.test(s)&&(n=e.index()-this.settings.up_count,this.lock(),n>0?(u[o]=-(n*c),a.animate(u,300,this.unlock())):(u[o]=0,a.animate(u,300,this.unlock()))):/left/.test(s)?(this.lock(),u[o]=l+c,a.animate(u,300,this.unlock())):/right/.test(s)&&(this.lock(),u[o]=l-c,a.animate(u,300,this.unlock())),i()},direction:function(e,i,n){var a,r=t("li",e),s=r.outerWidth()+r.outerWidth()/4,o=Math.floor(t(".clearing-container").outerWidth()/s)-1,l=r.index(n);return this.settings.up_count=o,a=this.adjacent(this.settings.prev_index,l)?l>o&&l>this.settings.prev_index?"right":l>o-1&&l<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=l,a},adjacent:function(t,e){for(var i=e+1;i>=e-1;i--)if(i===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){t(this.scope).off(".fndtn.clearing"),t(e).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,this,this.document),function(t,e,i,n){"use strict";var a=function(){},r=function(a,r){if(a.hasClass(r.slides_container_class))return this;var c,u,d,h,f,m,p=this,g=a,v=0,b=!1;g.children().first().addClass(r.active_slide_class),p.update_slide_number=function(e){r.slide_number&&(u.find("span:first").text(parseInt(e)+1),u.find("span:last").text(g.children().length)),r.bullets&&(d.children().removeClass(r.bullets_active_class),t(d.children().get(e)).addClass(r.bullets_active_class))},p.update_active_link=function(e){var i=t('a[data-orbit-link="'+g.children().eq(e).attr("data-orbit-slide")+'"]');i.siblings().removeClass(r.bullets_active_class),i.addClass(r.bullets_active_class)},p.build_markup=function(){g.wrap('<div class="'+r.container_class+'"></div>'),c=g.parent(),g.addClass(r.slides_container_class),r.navigation_arrows&&(c.append(t('<a href="#"><span></span></a>').addClass(r.prev_class)),c.append(t('<a href="#"><span></span></a>').addClass(r.next_class))),r.timer&&(h=t("<div>").addClass(r.timer_container_class),h.append("<span>"),h.append(t("<div>").addClass(r.timer_progress_class)),h.addClass(r.timer_paused_class),c.append(h)),r.slide_number&&(u=t("<div>").addClass(r.slide_number_class),u.append("<span></span> "+r.slide_number_text+" <span></span>"),c.append(u)),r.bullets&&(d=t("<ol>").addClass(r.bullets_container_class),c.append(d),d.wrap('<div class="orbit-bullets-container"></div>'),g.children().each(function(e){var i=t("<li>").attr("data-orbit-slide",e);d.append(i)})),r.stack_on_small&&c.addClass(r.stack_on_small_class),p.update_slide_number(0),p.update_active_link(0)},p._goto=function(e,i){if(e===v)return!1;"object"==typeof m&&m.restart();var n=g.children(),a="next";if(b=!0,v>e&&(a="prev"),e>=n.length){if(!r.circular)return!1;e=0}else if(0>e){if(!r.circular)return!1;e=n.length-1}var s=t(n.get(v)),o=t(n.get(e));s.css("zIndex",2),s.removeClass(r.active_slide_class),o.css("zIndex",4).addClass(r.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),r.before_slide_change(),p.update_active_link(e);var l=function(){var t=function(){v=e,b=!1,i===!0&&(m=p.create_timer(),m.start()),p.update_slide_number(v),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:n.length}]),r.after_slide_change(v,n.length)};g.height()!=o.height()&&r.variable_height?g.animate({height:o.height()},250,"linear",t):t()};if(1===n.length)return l(),!1;var c=function(){"next"===a&&f.next(s,o,l),"prev"===a&&f.prev(s,o,l)};o.height()>g.height()&&r.variable_height?g.animate({height:o.height()},250,"linear",c):c()},p.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),p._goto(v+1)},p.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),p._goto(v-1)},p.link_custom=function(e){e.preventDefault();var i=t(this).attr("data-orbit-link");if("string"==typeof i&&""!=(i=t.trim(i))){var n=c.find("[data-orbit-slide="+i+"]");-1!=n.index()&&p._goto(n.index())}},p.link_bullet=function(){var e=t(this).attr("data-orbit-slide");if("string"==typeof e&&""!=(e=t.trim(e)))if(isNaN(parseInt(e))){var i=c.find("[data-orbit-slide="+e+"]");-1!=i.index()&&p._goto(i.index()+1)}else p._goto(parseInt(e))},p.timer_callback=function(){p._goto(v+1,!0)},p.compute_dimensions=function(){var e=t(g.children().get(v)),i=e.height();r.variable_height||g.children().each(function(){t(this).height()>i&&(i=t(this).height())}),g.height(i)},p.create_timer=function(){var t=new s(c.find("."+r.timer_container_class),r,p.timer_callback);return t},p.stop_timer=function(){"object"==typeof m&&m.stop()},p.toggle_timer=function(){var t=c.find("."+r.timer_container_class);t.hasClass(r.timer_paused_class)?("undefined"==typeof m&&(m=p.create_timer()),m.start()):"object"==typeof m&&m.stop()},p.init=function(){p.build_markup(),r.timer&&(m=p.create_timer(),m.start()),f=new l(r,g),"slide"===r.animation&&(f=new o(r,g)),c.on("click","."+r.next_class,p.next),c.on("click","."+r.prev_class,p.prev),c.on("click","[data-orbit-slide]",p.link_bullet),c.on("click",p.toggle_timer),r.swipe&&c.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};c.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=c.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var i=e.delta_x<0?v+1:v-1;e.active=!0,p._goto(i)}}}).on("touchend.fndtn.orbit",function(t){c.data("swipe-transition",{}),t.stopPropagation()}),c.on("mouseenter.fndtn.orbit",function(){r.timer&&r.pause_on_hover&&p.stop_timer()}).on("mouseleave.fndtn.orbit",function(){r.timer&&r.resume_on_mouseout&&m.start()}),t(i).on("click","[data-orbit-link]",p.link_custom),t(e).on("resize",p.compute_dimensions),t(e).on("load",p.compute_dimensions),t(e).on("load",function(){c.prev(".preloader").css("display","none")}),g.trigger("ready.fndtn.orbit")},p.init()},s=function(t,e,i){var n,a,r=this,s=e.timer_speed,o=t.find("."+e.timer_progress_class),l=-1;this.update_progress=function(t){var e=o.clone();e.attr("style",""),e.css("width",t+"%"),o.replaceWith(e),o=e},this.restart=function(){clearTimeout(a),t.addClass(e.timer_paused_class),l=-1,r.update_progress(0)},this.start=function(){return t.hasClass(e.timer_paused_class)?(l=-1===l?s:l,t.removeClass(e.timer_paused_class),n=(new Date).getTime(),o.animate({width:"100%"},l,"linear"),a=setTimeout(function(){r.restart(),i()},l),void t.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(t.hasClass(e.timer_paused_class))return!0;clearTimeout(a),t.addClass(e.timer_paused_class);var i=(new Date).getTime();l-=i-n;var o=100-l/s*100;r.update_progress(o),t.trigger("timer-stopped.fndtn.orbit")}},o=function(e){var i=e.animation_speed,n=1===t("html[dir=rtl]").length,a=n?"marginRight":"marginLeft",r={};r[a]="0%",this.next=function(t,e,n){t.animate({marginLeft:"-100%"},i),e.animate(r,i,function(){t.css(a,"100%"),n()})},this.prev=function(t,e,n){t.animate({marginLeft:"100%"},i),e.css(a,"-100%"),e.animate(r,i,function(){t.css(a,"100%"),n()})}},l=function(e){{var i=e.animation_speed;1===t("html[dir=rtl]").length}this.next=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})},this.prev=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.0.3",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:a,after_slide_change:a},init:function(t,e,i){this.bindings(e,i)},events:function(e){var i=new r(t(e),t(e).data("orbit-init"));t(e).data(self.name+"-instance",i)},reflow:function(){var e=this;if(t(e.scope).is("[data-orbit]")){var i=t(e.scope),n=i.data(e.name+"-instance");n.compute_dimensions()}else t("[data-orbit]",e.scope).each(function(i,n){var a=t(n),r=(e.data_options(a),a.data(e.name+"-instance"));r.compute_dimensions()})}}}(jQuery,this,this.document),function(t){"use strict";Foundation.libs.tab={name:"tab",version:"5.0.3",settings:{active_class:"active",callback:function(){}},init:function(t,e,i){this.bindings(e,i)},events:function(){t(this.scope).off(".tab").on("click.fndtn.tab","[data-tab] > dd > a",function(e){e.preventDefault();var i=t(this).parent(),n=i.closest("[data-tab]"),a=t("#"+this.href.split("#")[1]),r=i.siblings(),s=n.data("tab-init");t(this).data("tab-content")&&(a=t("#"+t(this).data("tab-content").split("#")[1])),i.addClass(s.active_class).trigger("opened"),r.removeClass(s.active_class),a.siblings().removeClass(s.active_class).end().addClass(s.active_class),s.callback(i),n.trigger("toggled",[i])})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(t,e,i,n){"use strict";Foundation.libs.reveal={name:"reveal",version:"5.0.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,i,n){Foundation.inherit(this,"delay"),t.extend(!0,this.settings,i,n),this.bindings(i,n)},events:function(){var e=this;return t("[data-reveal-id]",this.scope).off(".reveal").on("click.fndtn.reveal",function(i){if(i.preventDefault(),!e.locked){var n=t(this),a=n.data("reveal-ajax");if(e.locked=!0,"undefined"==typeof a)e.open.call(e,n);else{var r=a===!0?n.attr("href"):a;e.open.call(e,n,{url:r})}}}),t(this.scope).off(".reveal"),t(i).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!e.locked){var n=t("[data-reveal].open").data("reveal-init"),a=t(i.target)[0]===t("."+n.bg_class)[0];if(a&&!n.close_on_background_click)return;e.locked=!0,e.close.call(e,a?t("[data-reveal].open"):t(this).closest("[data-reveal]"))}}),t("[data-reveal]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","[data-reveal]",this.settings.open).on("opened.fndtn.reveal","[data-reveal]",this.settings.opened).on("opened.fndtn.reveal","[data-reveal]",this.open_video).on("close.fndtn.reveal","[data-reveal]",this.settings.close).on("closed.fndtn.reveal","[data-reveal]",this.settings.closed).on("closed.fndtn.reveal","[data-reveal]",this.close_video),!0},key_up_on:function(){var e=this;return t("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(i){var n=t("[data-reveal].open"),a=n.data("reveal-init");a&&27===i.which&&a.close_on_esc&&!e.locked&&e.close.call(e,n)}),!0},key_up_off:function(){return t("body").off("keyup.fndtn.reveal"),!0},open:function(e,i){var n=this;if(e)if("undefined"!=typeof e.selector)var a=t("#"+e.data("reveal-id"));else{var a=t(this.scope);i=e}else var a=t(this.scope);var r=a.data("reveal-init");if(!a.hasClass("open")){var s=t("[data-reveal].open");if("undefined"==typeof a.data("css-top")&&a.data("css-top",parseInt(a.css("top"),10)).data("offset",this.cache_offset(a)),this.key_up_on(a),a.trigger("open"),s.length<1&&this.toggle_bg(a),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var o="undefined"!=typeof i.success?i.success:null;t.extend(i,{success:function(e,i,l){if(t.isFunction(o)&&o(e,i,l),a.html(e),t(a).foundation("section","reflow"),s.length>0){var c=s.data("reveal-init");n.hide(s,c.css.close)}n.show(a,r.css.open)}}),t.ajax(i)}else{if(s.length>0){var l=s.data("reveal-init");this.hide(s,l.css.close)}this.show(a,r.css.open)}}},close:function(e){var e=e&&e.length?e:t(this.scope),i=t("[data-reveal].open"),n=e.data("reveal-init");i.length>0&&(this.locked=!0,this.key_up_off(e),e.trigger("close"),this.toggle_bg(e),this.hide(i,n.css.close,n))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(e){e.data("reveal-init");0===t("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(i,n){if(n){var a=i.data("reveal-init");
if(0===i.parent("body").length){var r=i.wrap('<div style="display: none;" />').parent(),s=this.settings.rootElement||"body";i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(r),i.unwrap().unbind("closed.fndtn.reveal.wrapped")}),i.detach().appendTo(s)}if(/pop/i.test(a.animation)){n.top=t(e).scrollTop()-i.data("offset")+"px";var o={top:t(e).scrollTop()+i.data("css-top")+"px",opacity:1};return this.delay(function(){return i.css(n).animate(o,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}if(/fade/i.test(a.animation)){var o={opacity:1};return this.delay(function(){return i.css(n).animate(o,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}return i.css(n).show().css({opacity:1}).addClass("open").trigger("opened")}var a=this.settings;return/fade/i.test(a.animation)?i.fadeIn(a.animation_speed/2):i.show()},hide:function(i,n){if(n){var a=i.data("reveal-init");if(/pop/i.test(a.animation)){var r={top:-t(e).scrollTop()-i.data("offset")+"px",opacity:0};return this.delay(function(){return i.animate(r,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}if(/fade/i.test(a.animation)){var r={opacity:0};return this.delay(function(){return i.animate(r,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}return i.hide().css(n).removeClass("open").trigger("closed")}var a=this.settings;return/fade/i.test(a.animation)?i.fadeOut(a.animation_speed/2):i.hide()},close_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");i.length>0&&(i.attr("data-src",i[0].src),i.attr("src","about:blank"),e.hide())},open_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");if(i.length>0){var a=i.attr("data-src");if("string"==typeof a)i[0].src=i.attr("data-src");else{var r=i[0].src;i[0].src=n,i[0].src=r}e.show()}},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function(t){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.0.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,tip_template:function(t,e){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,i){this.bindings(e,i)},events:function(){var e=this;Modernizr.touch?t(this.scope).off(".tooltip").on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(i){var n=t.extend({},e.settings,e.data_options(t(this)));n.disable_for_touch||(i.preventDefault(),t(n.tooltip_class).hide(),e.showOrCreateTip(t(this)))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltip_class,function(e){e.preventDefault(),t(this).fadeOut(150)}):t(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(i){var n=t(this);/enter|over/i.test(i.type)?e.showOrCreateTip(n):("mouseout"===i.type||"mouseleave"===i.type)&&e.hide(n)})},showOrCreateTip:function(t){var e=this.getTip(t);return e&&e.length>0?this.show(t):this.create(t)},getTip:function(e){var i=this.selector(e),n=null;return i&&(n=t('span[data-selector="'+i+'"]'+this.settings.tooltip_class)),"object"==typeof n?n:!1},selector:function(t){var e=t.attr("id"),i=t.attr("data-tooltip")||t.attr("data-selector");return(e&&e.length<1||!e)&&"string"!=typeof i&&(i="tooltip"+Math.random().toString(36).substring(7),t.attr("data-selector",i)),e&&e.length>0?e:i},create:function(e){var i=t(this.settings.tip_template(this.selector(e),t("<div></div>").html(e.attr("title")).html())),n=this.inheritable_classes(e);i.addClass(n).appendTo(this.settings.append_to),Modernizr.touch&&i.append('<span class="tap-to-close">'+this.settings.touch_close_text+"</span>"),e.removeAttr("title").attr("title",""),this.show(e)},reposition:function(e,i,n){var a,r,s,o,l;if(i.css("visibility","hidden").show(),a=e.data("width"),r=i.children(".nub"),s=r.outerHeight(),o=r.outerHeight(),i.css({width:a?a:"auto"}),l=function(t,e,i,n,a){return t.css({top:e?e:"auto",bottom:n?n:"auto",left:a?a:"auto",right:i?i:"auto"}).end()},l(i,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left),this.small())l(i,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,t(this.scope).width()),i.addClass("tip-override"),l(r,-s,"auto","auto",e.offset().left);else{var c=e.offset().left;Foundation.rtl&&(c=e.offset().left+e.offset().width-i.outerWidth()),l(i,e.offset().top+e.outerHeight()+10,"auto","auto",c),i.removeClass("tip-override"),n&&n.indexOf("tip-top")>-1?l(i,e.offset().top-i.outerHeight()-10,"auto","auto",c).removeClass("tip-override"):n&&n.indexOf("tip-left")>-1?l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left-i.outerWidth()-s).removeClass("tip-override"):n&&n.indexOf("tip-right")>-1&&l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+s).removeClass("tip-override")}i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches},inheritable_classes:function(e){var i=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additional_inheritable_classes),n=e.attr("class"),a=n?t.map(n.split(" "),function(e){return-1!==t.inArray(e,i)?e:void 0}).join(" "):"";return t.trim(a)},show:function(t){var e=this.getTip(t);this.reposition(t,e,t.attr("class")),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150)},reload:function(){var e=t(this);return e.data("fndtn-tooltips")?e.foundationTooltips("destroy").foundationTooltips("init"):e.foundationTooltips("init")},off:function(){t(this.scope).off(".fndtn.tooltip"),t(this.settings.tooltip_class).each(function(e){t("[data-tooltip]").get(e).attr("title",t(this).text())}).remove()},reflow:function(){}}}(jQuery,this,this.document),function(t,e){function i(s,o){function l(t){j.reversed=t,w||(C.isPaused=!1,h("play"),u())}function c(){F=0,y=E?Math.round(b.x)+"px "+Math.round(b.y)+"px":T[A],y!==_&&(s.style.backgroundPosition=_=y),h("frame"),j.finite&&j.to===A&&(C.pause(),"function"===n(j.callback)&&j.callback.call(C))}function u(){j.finite&&j.to===A||(w=j.immediate?0:60<=m.fps?r(u):setTimeout(u,1e3/m.fps),E?(b.x+=m.speedX/m.fps,b.y+=m.speedY/m.fps,m.bgWidth&&Math.abs(b.x)>m.bgWidth&&(b.x%=m.bgWidth),m.bgHeight&&Math.abs(b.y)>m.bgHeight&&(b.y%=m.bgHeight)):(j.finite?A=j.immediate?j.to:A+(A>j.to?-1:1):j.reversed?0>=--A&&(A=T.length-1):++A>=T.length&&(A=0),C.frame=A),F||(F=r(c)))}function d(t,e){for(x=0,k=S[t].length;k>x;x++)if(S[t][x]===e)return x;return-1}function h(t,e){if(S[t])for(x=0,k=S[t].length;k>x;x++)S[t][x].call(C,t,e)}function f(e){return t.getComputedStyle?t.getComputedStyle(s,null)[e]:s.currentStyle[e]}var m,p,g=o,v={},g="object"===n(g)?g:{};for(p in i.defaults)v[p]=(g.hasOwnProperty(p)?g:i.defaults)[p];m=v;var b,y,_,w,F,x,k,C=this,E=!m.frames,T=[],S={},j={},A=0;if(C.element=s,C.width=m.width||s.clientWidth,C.height=m.height||s.clientHeight,C.options=m,C.isPaused=!0,C.pause=function(){return a(w),clearTimeout(w),w=0,C.isPaused||(C.isPaused=!0,h("pause")),C},C.play=function(t){return j.finite=!1,j.callback=e,j.immediate=!1,l(t),C},C.toggle=function(){return C[w?"pause":"play"](),C},C.toStart=function(t,e){return C.to(0,t,e)},C.toEnd=function(t,e){return C.to(T.length-1,t,e)},C.to=function(t,e,i){if(E||isNaN(parseFloat(t))||!isFinite(t)||0>t||t>=T.length)return C;if("function"===n(e)&&(i=e,e=!1),t===A)if(0===t)A=T.length;else{if(t!==T.length-1)return"function"===n(i)&&i.call(C),C.pause(),C;A=-1}return j.finite=!0,j.to=t,j.immediate=!!e,j.callback=i,l(),C},C.set=function(t,e){return m[t]=e,C},C.on=function(t,e){if("object"===n(t))for(var i in t)t.hasOwnProperty(i)&&C.on(i,t[i]);else if("function"===n(e)){i=t.split(" ");for(var a=0,r=i.length;r>a;a++)S[i[a]]=S[i[a]]||[],-1===d(i[a],e)&&S[i[a]].push(e)}else if("array"===n(e))for(i=0,a=e.length;a>i;i++)C.on(t,e[i]);return C},C.off=function(t,e){if(e instanceof Array)for(var i=0,a=e.length;a>i;i++)C.off(t,e[i]);else for(var i=t.split(" "),a=0,r=i.length;r>a;a++)if(S[i[a]]=S[i[a]]||[],"undefined"===n(e))S[i[a]].length=0;else{var s=d(i[a],e);-1!==s&&S[i[a]].splice(s,1)}return C},C.destroy=function(){return C.pause(),s.style.backgroundPosition="",C},g=(f("backgroundPosition")||f("backgroundPositionX")+" "+f("backgroundPositionY")).replace(/left|top/gi,0).split(" "),b={x:0|parseInt(g[0],10),y:0|parseInt(g[1],10)},E)C.pos=b;else{for(g=T.length=0;g<m.frames;g++)m.vertical?b.y=g*-C.height:b.x=g*-C.width,T.push(b.x+"px "+b.y+"px");C.frames=T.length,C.frame=0}}function n(t){return Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}for(var a=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,r=t.requestAnimationFrame,s=["moz","webkit","o"],o=0,l=0,c=s.length;c>l&&!a;++l)r=(a=t[s[l]+"CancelAnimationFrame"]||t[s[l]+"CancelRequestAnimationFrame"])&&t[s[l]+"RequestAnimationFrame"];a||(r=function(e){var i=+new Date,n=Math.max(0,16-(i-o));return o=i+n,t.setTimeout(function(){e(i+n)},n)},a=function(t){clearTimeout(t)}),t.Motio=i,i.defaults={fps:15,frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}}(window),function(t){t.fn.motio=function(e,i){var n,a;return t.isPlainObject(e)||(("string"==typeof e||!1===e)&&(n=!1===e?"destroy":e,a=Array.prototype.slice.call(arguments,1)),e={}),this.each(function(r,s){var o=t.data(s,"motio");o||n?o&&n&&(o[n]&&o[n].apply(o,a),"destroy"===n&&t.removeData(s,"motio")):(o=t.data(s,"motio",new Motio(s,e)),o.on(i),e.startPaused||o.play())})}}(jQuery);var mouse_up_mover=!0,count=0,timeOut;document.ondragstart=function(){return!1};var pImWidth=0,base_url="//cdn1.urbanladder.com/flipxi/",numberOfRotations=3,auto_rotate=!1,numberOfAutoRotation=1,antiClock=!1,stop_clicked=!1,clc_clicked=!1,anti_clc_clicked=!1,show_playerbuttons=!0,UL={};UL.AUTH_COOKIE_NAME="ul_subscribe",UL.AUTH_COOKIE_VAL="email",UL.CHARACTERS_LIMIT=300,UL.FOOTER_ITEMS_SCROLLHEIGHT=1900,UL.INTERSTITIAL_COOKIE_NAME="ul_interstitial",UL.MOBILE_TESTIMONIALS_LIMIT=1,UL.NO_ELISSA_SOFA_TRIAL_ZIPCODES=["38","39","68"],UL.POPUP_COOKIE_EXPIRES=1,UL.PRODUCTPAGE="productpage",UL.SOFA_TRIAL_CITIES="[&quot;Ahmedabad&quot;, &quot;Bangalore&quot;, &quot;Chandigarh&quot;, &quot;Chennai&quot;, &quot;Delhi&quot;, &quot;Faridabad&quot;, &quot;Gandhinagar&quot;, &quot;Gurgaon&quot;, &quot;Hyderabad&quot;, &quot;Jaipur&quot;, &quot;Kochi&quot;, &quot;Kolkata&quot;, &quot;Mangalore&quot;, &quot;Mumbai&quot;, &quot;Navi Mumbai&quot;, &quot;New Delhi&quot;, &quot;Pune&quot;, &quot;Secunderabad&quot;, &quot;Surat&quot;, &quot;Thane&quot;, &quot;Vadodara&quot;, &quot;Visakhapatnam&quot;]",UL.SPLPRODUCTPAGE="newproductpage";var UI={setCookie:function(t,e){document.cookie=UL.AUTH_COOKIE_NAME+"="+t+"; expires="+e+"; path=/"},getUrlParams:function(t){var e,i={};if(void 0==t){var n=window.location.href;n=n.split("#")[0],t=n.slice(n.indexOf("?")+1)}for(var a=t.split("&"),r=0;r<a.length;r++)e=a[r].split("="),i[e[0]]=e[1];return i},setPCookie:function(t){var t=t||{},e=t.expire,i=new Date,n=t.name||UL.AUTH_COOKIE_NAME;t.lifetime&&(e=365),i.setTime((new Date).getTime()+864e5*e),document.cookie=n+"="+t.value+"; expires="+i.toGMTString()+"; path=/"},getNumberFromString:function(t){return isNaN(t)?t.replace(/[^0-9\.]+/g,""):t},fetchEMISplit:function(t,e,i){var n=UI.getNumberFromString(t);if(n>0){var a=void 0==i?"productpage":i;$.ajax({url:"/services/emis_applicable?amount="+n+"&id="+e+"&p="+a,method:"GET",success:function(t){$("#emi_"+e).html(t),$(".emi_row").show()},error:function(){}})}},formatContentBlocksText:function(t){$(t).each(function(){var t=$(this),e=$.trim(t.text()),i=$.trim(t.html());0==i.indexOf("<p>")&&(i=$(i).html());var n=i;if(e.length>UL.CHARACTERS_LIMIT){for(var a=i.match(/<\s*(\w+\b)(?:(?!<\s*\/\s*\1\b)[\s\S])*<\s*\/\s*\1\s*>|\S+/g),r=0,s=0,o=[],l=/(<([^>]+)>)/gi;r<UL.CHARACTERS_LIMIT;){var c=a[s].replace(l,"");r+=c.length+1,o.push(a[s]),s+=1}var u=a;if(u.splice(0,o.length),u.length>0){n=o.join(" ");var d=u.join(" ");n+=" <span class='more_ellipses'>...</span><span class='morecontent'><span class='fulltext'>"+d+"</span> <a href='javascript:void(0);' class='cbmore_link link-color'>More</a></span>"}}t.html(n),t.show()})},invokeAccordian:function(){$(".ulaccordion > .item").click(function(){var t=$(this),e=$(this).parent(),i=e.find("> .content"),n=e.find(".expander"),a=t.next(),r=t.find(".expander"),s=r.is(".icofont-circle_right, .icofont-circle_down"),o=t.data("gaprefix");return a.hasClass("active")?(o&&Hercules.trackEvent({gaaction:o+"Close"}),i.removeClass("active").slideUp(),s?n.removeClass("icofont-circle_down").addClass("icofont-circle_right"):n.text("+")):(o&&Hercules.trackEvent({gaaction:o+"Open"}),i.removeClass("active").slideUp(),s?n.removeClass("icofont-circle_down").addClass("icofont-circle_right"):n.text("+"),a.addClass("active").slideDown(),s?t.find(".expander").removeClass("icofont-circle_right").addClass("icofont-circle_down"):t.find(".expander").text("-")),!1})}};$(function(){$(".mnavigation_wrapper .topnav_item").click(function(t){if($(t.target).parent().attr("class")==$(this).attr("class")||"topnav_itemname"==$(t.target).parent().attr("class")){var e=$(this).find(".subnavlist");e.toggle(),$(this).find(".expander").text(e.is(":visible")?"-":"+")}}),$(".menuexpander").click(function(){var t=$(window).height();$(".main-navigation, .container").css("height",t),$(".mnavigation_wrapper").addClass("move-right").show()}),$(".menu_closer").click(function(){$(".container").removeAttr("style"),$(".mnavigation_wrapper").removeClass("move-right").hide()}),$(document).on("click",".emi_price_str .more",function(){var t=$(this),e=t.closest(".emi_section"),i=t.attr("id"),n=t.data(),a=i.split("_")[1],r="";if("fetch"==n.details){var s=n.price,o=n.page;$.ajax({url:"/services/emis_applicable?amount="+s+"&id="+a+"&p="+o,method:"GET",success:function(t){$("#reveal_"+a).html(t).foundation("reveal","open"),$(document).foundation("reflow")}})}else{var l=e.find(".reveal-content");r=l.html(),l.remove(),$("#reveal_"+a).html(r).foundation("reveal","open"),$(document).foundation("reflow")}}),$.validator.addMethod("validatephone",function(t,e){var i=/^[789]\d{9}$/;return this.optional(e)||i.test(t)}),$(document).ready(function(){UI.formatContentBlocksText(".body_taxons .cb_snippet"),UI.invokeAccordian(),$(".body_taxons .cbmore_link").click(function(){var t=$(this);t.html(t.hasClass("less")?"More":"Less"),t.toggleClass("less"),t.parent().prev().toggle(),t.prev().toggle()})})}),$(document).ready(function(){$(document).on("click",".trustcard",function(){var t=$(this);if(!t.hasClass("signupcard")){var e=t.data("id"),i=$("#largecards"),n=t.find(".title").text(),a=(t.parents(".category_section").attr("class"),t.data("cardtype")),r=i.data("modulepage");i.foundation("reveal","open"),$(document).on("opened.fndtn.reveal","[data-reveal]",function(){i.find(".orbit-next").addClass("icofont-arrow_right_small"),i.find(".orbit-prev").addClass("icofont-arrow_left_small"),$.fx.off=!0,i.find("[data-orbit-slide='"+e+"']").trigger("click"),$.fx.off=!1,$(window).trigger("resize"),Hercules.lazyLoadImages(".largecards li:eq("+e+") img[data-src]",{bind:"event"})}),Hercules.trackEvent({gaaction:"CardClick."+n+"."+a,galabel:r})}}),$("#largecards").find(".orbit-next").on("click",function(){var t=$("#largecards").data("modulepage"),e=$("#largecards li.active").index()+1;Hercules.lazyLoadImages(".largecards li:eq("+e+") img[data-src]",{bind:"event"}),Hercules.trackEvent({gaaction:"CardClick.slideshow.next",galabel:t})}),$("#largecards").find(".orbit-prev").on("click",function(){var t=$("#largecards").data("modulepage"),e=$("#largecards li.active").index()-1;Hercules.lazyLoadImages(".largecards li:eq("+e+") img[data-src]",{bind:"event"}),Hercules.trackEvent({gaaction:"CardClick.slideshow.previous",galabel:t})})});var Hercules=Hercules||{};Hercules.fetchMyaccountActions=function(t,e,i){var n=1;$(t).click(function(a){var r=a.target;if($(r).hasClass("user-icon")||$(r).hasClass("email")){a.stopPropagation(),$(this).toggleClass("opened"),$(e).toggle(0);var s=$(t).position().left;s+=15,1==n&&i&&($("head").append("<style>#user_links.arrow_box:before, #user_links.arrow_box:after{left: "+s+"px !important;}</style>"),n+=1)}else"LI"==r.nodeName&&(window.location.href=$(r).find("a").attr("href"))}),$(document).on("click",function(){$(t).removeClass("opened"),$(e).hide()})},$(document).ready(function(){$("#signup_form").validate(),$("#login_form").validate();var t=$(document),e=$(".auth-module"),i=$("#signup-login-module, #login-module, #why-signup-link"),n=$("#signup-login-module, #signup-module, #why-signup-link"),a=$("#signup-login-module .google-auth"),r=$("#signup-login-module .fb-auth"),s=$("#signup-login-module, #why-signup-module");t.on("click",".signup-link",function(){e.addClass("hide"),n.removeClass("hide"),a.data("gaaction","signup_g_click"),r.data("gaaction","signup_fb_click")}),t.on("click",".login-link",function(){e.addClass("hide"),i.removeClass("hide"),a.data("gaaction","login_g_click"),r.data("gaaction","login_f_click")}),t.on("click","#why-signup-link",function(){e.addClass("hide"),s.removeClass("hide")}),t.on("click",".hide-password, .show-password",function(){var t=$(this);t.addClass("hide"),t.siblings(".link-color").removeClass("hide"),t.siblings("input").toggleClass("hidden")}),t.on("change","#signup_form .password input",function(){var t=$(this);t.siblings("input").val(t.val())});var o=$("#authentication_popup");if(o.is(".signup, .login")){o.hide();var l=o.hasClass("login")?"login-link":"signup-link";o.find("."+l).trigger("click"),o.show()}}),window.Modernizr=function(t,e,i){function n(t){f.cssText=t}function a(t,e){return typeof t===e}var r,s,o,l="2.8.3",c={},u=e.documentElement,d="modernizr",h=e.createElement(d),f=h.style,m=({}.toString,{}),p=[],g=p.slice,v={}.hasOwnProperty;o=a(v,"undefined")||a(v.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return v.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=g.call(arguments,1),n=function(){if(this instanceof n){var a=function(){};a.prototype=e.prototype;var r=new a,s=e.apply(r,i.concat(g.call(arguments)));return Object(s)===s?s:r}return e.apply(t,i.concat(g.call(arguments)))};return n});for(var b in m)o(m,b)&&(s=b.toLowerCase(),c[s]=m[b](),p.push((c[s]?"":"no-")+s));return c.addTest=function(t,e){if("object"==typeof t)for(var n in t)o(t,n)&&c.addTest(n,t[n]);else{if(t=t.toLowerCase(),c[t]!==i)return c;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(u.className+=" "+(e?"":"no-")+t),c[t]=e}return c},n(""),h=r=null,c._version=l,c}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==g.call(t)}function a(t){return"string"==typeof t}function r(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function o(){var t=v.shift();b=1,t?t.t?m(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),o()):b=0}function l(t,i,n,a,r,l,c){function u(e){if(!f&&s(d.readyState)&&(y.r=f=1,!b&&o(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&m(function(){w.removeChild(d)},50);for(var n in E[i])E[i].hasOwnProperty(n)&&E[i][n].onload()}}var c=c||h.errorTimeout,d=e.createElement(t),f=0,g=0,y={t:n,s:i,e:r,a:l,x:c};1===E[i]&&(g=1,E[i]=[]),"object"==t?d.data=i:(d.src=i,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(a,0,y),"img"!=t&&(g||2===E[i]?(w.insertBefore(d,_?null:p),m(u,c)):E[i].push(d))}function c(t,e,i,n,r){return b=0,e=e||"j",a(t)?l("c"==e?x:F,t,e,this.i++,i,n,r):(v.splice(this.i++,0,t),1==v.length&&o()),this}function u(){var t=h;return t.loader={load:c,i:0},t}var d,h,f=e.documentElement,m=t.setTimeout,p=e.getElementsByTagName("script")[0],g={}.toString,v=[],b=0,y="MozAppearance"in f.style,_=y&&!!e.createRange().compareNode,w=_?f:p.parentNode,f=t.opera&&"[object Opera]"==g.call(t.opera),f=!!e.attachEvent&&!f,F=y?"object":f?"script":"img",x=f?"script":F,k=Array.isArray||function(t){return"[object Array]"==g.call(t)},C=[],E={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,i,n,t=t.split("!"),a=C.length,r=t.pop(),s=t.length,r={url:r,origUrl:r,prefixes:t};for(i=0;s>i;i++)n=t[i].split("="),(e=T[n.shift()])&&(r=e(r,n));for(i=0;a>i;i++)r=C[i](r);return r}function s(t,a,r,s,o){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(a&&(a=n(a)?a:a[t]||a[s]||a[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,a,r,s,o):(E[l.url]?l.noexec=!0:E[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(a)||n(c))&&r.load(function(){u(),a&&a(l.origUrl,o,s),c&&c(l.origUrl,o,s),E[l.url]=2})))}function o(t,e){function i(t,i){if(t){if(a(t))i||(d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}),s(t,d,e,0,c);else if(Object(t)===t)for(l in o=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--o&&(n(d)?d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(h[l])),s(t[l],d,e,l,c))}else!i&&f()}var o,l,c=!!t.test,u=t.load||t.both,d=t.callback||r,h=d,f=t.complete||r;i(c?t.yep:t.nope,!!u),u&&i(u)}var l,c,d=this.yepnope.loader;if(a(t))s(t,0,d,0);else if(k(t))for(l=0;l<t.length;l++)c=t[l],a(c)?s(c,0,d,0):k(c)?h(c):Object(c)===c&&o(c,d);else Object(t)===t&&o(t,d)},h.addPrefix=function(t,e){T[t]=e},h.addFilter=function(t){C.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=o,t.yepnope.injectJs=function(t,i,n,a,l,c){var u,d,f=e.createElement("script"),a=a||h.errorTimeout;f.src=t;for(d in n)f.setAttribute(d,n[d]);i=c?o:i||r,f.onreadystatechange=f.onload=function(){!u&&s(f.readyState)&&(u=1,i(),f.onload=f.onreadystatechange=null)},m(function(){u||(u=1,i(1))},a),l?f.onload():p.parentNode.insertBefore(f,p)},t.yepnope.injectCss=function(t,i,n,a,s,l){var c,a=e.createElement("link"),i=l?o:i||r;a.href=t,a.rel="stylesheet",a.type="text/css";for(c in n)a.setAttribute(c,n[c]);s||(p.parentNode.insertBefore(a,p),m(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var Testimonials={loaderEl:"<li class='testicarousel-item loader'><div class='loader'>Loading...</div></li>",url:function(t){var e="/testimonials/view",i=$.param(t);return e+"?"+i},fetch:function(t,e){$.ajax({url:t,data:{curr_page:window.location.href},method:"GET",success:function(t){t.length>0&&e(t)},error:function(){}})},bindToCarouselEvents:function(t){var e=$("#"+t);e.find(".orbit-next").on("click",function(){Hercules.trackEvent({gaaction:"Next_Testimonial"})}),e.find(".orbit-prev").on("click",function(){Hercules.trackEvent({gaaction:"Previous_Testimonial"})}),e.on("before-slide-change.fndtn.orbit",function(){$(".qkd-content").hide()}),e.on("after-slide-change.fndtn.orbit",function(){$(".qkd-content").show()})},unbindCarouselEvents:function(t){var e=$("#"+t);e.off("before-slide-change.fndtn.orbit after-slide-change.fndtn.orbit"),e.find(".orbit-prev").off("click"),e.find(".orbit-next").off("click")},generateCarousel:function(t,e,i,n){var a=$("#"+t),r={animation:"slide",pause_on_hover:!1,animation_speed:500,navigation_arrows:!0,next_on_click:!0,slide_number:!1,timer:!1,circular:!1,bullets:!1,container_class:"orbit-container "+t};$.extend(r,e),Testimonials.fetch(i,n),a.foundation({orbit:r}),Testimonials.bindToCarouselEvents(t)}},Testimonials=Testimonials||{};Testimonials.Group={el:null,show:function(t){var e=$("#"+t);Testimonials.Group.el=e,e.html("<ul id='testicarouselul' data-orbit>"+Testimonials.loaderEl+"</ul>");var i={type:"carousel"};$(".variant_sku").length>0&&(sku=$(".variant_sku").text(),i.sku=sku),e.hasClass("mobile")&&(limit=UL.MOBILE_TESTIMONIALS_LIMIT,i.limit=limit);var n=Testimonials.url(i);Testimonials.generateCarousel(t,{},n,Testimonials.Group.onFetch)},onFetch:function(t){var e=Testimonials.Group.el,i=e.attr("id");e.find("#testicarouselul").append(t),e.find(".testicarousel-item.loader").remove(),Hercules.lazyLoadImages("#"+i+" img[data-src]",{bind:"event"}),$("#qkview").trigger("testi_carousel:loaded")},ids:function(){var t=Testimonials.Group.el,e=$.map(t.find("ul li div.testiunit"),function(t){return $(t).data("id")});return e}},$(document).on("click",".testiimg, .testiptext, #testicarouselul .testidata",function(){var t=0;t=$(this).hasClass("testiptext")?$(this).closest(".testipcontent").data("id"):$(this).parent().data("id"),Testimonials.Item.openPopup(t,$(this).parent()),Hercules.trackEvent({gaaction:"Open_Testimonial",galabel:t})}),$(function(){$("#qkview").on("testi_carousel:loaded",Testimonials.Item.init),$("#qkview").on("closed",function(){Hercules.trackEvent({gaaction:"Close_Testimonial"}),Testimonials.unbindCarouselEvents("qkview")})});var Testimonials=Testimonials||{};Testimonials.Item={init:function(){var t=Testimonials.Group.ids(),e=t.length;Testimonials.Item.popup_content="";for(var i=0;e>i;i++)Testimonials.Item.popup_content+='<li class="testicarousel-item" data-testi-id="'+t[i]+'" data-id="'+i+'"> </li>';Testimonials.Item.popup_content+='<li class="testicarousel-item all-testis"></li>'},showUrlParams:function(t){return{type:"view",id:t}},openPopup:function(t,e){var i=$("#qkview"),n={};e.hasClass("testiunit")?(i.html("<ul id='testiqkview' data-orbit>"+Testimonials.Item.popup_content+"</ul>"),testi_el=i.find('li[data-testi-id="'+t+'"]'),$(document).on("opened.fndtn.reveal","[data-reveal]",function(){var t=testi_el.data("id");$.fx.off=!0,i.find("[data-orbit-slide='"+t+"']").click(),$.fx.off=!1}),testi_el.html($(Testimonials.loaderEl).find(".loader")),n.bullets=!0):(i.html("<ul id='testiqkview' data-orbit>"+Testimonials.loaderEl+"</ul>"),testi_el=i.find("li:last")),i.append("<div class='close-reveal-modal icofont-cross'></div>");var a=Testimonials.Item.showUrlParams(t),r=Testimonials.url(a);Testimonials.generateCarousel("qkview",n,r,$.proxy(Testimonials.Item.onFetch,testi_el)),e.hasClass("testiunit")?(i.find(".orbit-next").on("click",{cmd:"next"},Testimonials.Item.show),i.find(".orbit-prev").on("click",{cmd:"prev"},Testimonials.Item.show)):i.find(".orbit-next").on("click",Testimonials.Item.randomNext),i.foundation("reveal","open")},onFetch:function(t){$(this).html(t)},isNextAvailable:function(t){var e=t.find(".testicarousel-item").length,i=t.find("li.active"),n=i.index(),a=!0;return n+1==e&&(a=!1),a},randomNext:function(){var t=$("#qkview");if(!Testimonials.Item.isNextAvailable(t)){var e=t.find("li.active"),i=t.find("li:last-child"),n=e.find(".testiqkview").data("id");i.after(Testimonials.loaderEl);var a=Testimonials.Item.showUrlParams(n);a.order="next";var r=Testimonials.url(a);Testimonials.fetch(r,$.proxy(Testimonials.Item.onFetch,t.find("li:last")))}},show:function(t){var e=$("#qkview"),i=e.find("li.active"),n=null,a=t.data.cmd;if("next"===a){if(n=i.next(),n.hasClass("all-testis"))return void Testimonials.Item.showLinkToAllTestis(n)}else n=i.prev();if(0!=n.length&&!n.find(".testiqkview").length){var r=n.data("testi-id");n.html($(Testimonials.loaderEl).find("div.loader"));var s=Testimonials.Item.showUrlParams(r),o=Testimonials.url(s);Testimonials.fetch(o,$.proxy(Testimonials.Item.onFetch,n))}},showLinkToAllTestis:function(t){t.html($(".all-testis-popup-content").html())}};var colCount=0,colWidth=0,margin=30,windowWidth=0,testiblocks=[];jQuery(function(){jQuery(window).resize(setupBlocks)}),Array.min=function(t){return Math.min.apply(Math,t)},Array.max=function(t){return Math.max.apply(Math,t)},window.onload=setupBlocks,jQuery(document).ready(function(){if($("#testicontainer").length>0){var t=$(window),e=$(document);t.data("ajaxready",!0).scroll(function(){0!=t.data("ajaxready")&&t.scrollTop()+t.height()>e.height()-2e3&&(t.data("ajaxready",!1),fetchAjaxData())})}}),function(){var t,e,i,n,a,r,s,o,l,c,u,d,h,f,m,p,g=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},v=[].slice;t=window.jQuery,e=t(window),a={horizontal:{},vertical:{}},r=1,o={},s="waypoints-context-id",u="resize.waypoints",d="scroll.waypoints",h=1,f="waypoints-waypoint-ids",m="waypoint",p="waypoints",i=function(){function e(e){var i=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+r++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(s,this.id),o[this.id]=this,e.bind(d,function(){var e;return i.didScroll?void 0:(i.didScroll=!0,e=function(){return i.doScroll(),i.didScroll=!1},window.setTimeout(e,t[p].settings.scrollThrottle))}),e.bind(u,function(){var e;return i.didResize?void 0:(i.didResize=!0,e=function(){return t[p]("refresh"),i.didResize=!1},window.setTimeout(e,t[p].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,i=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!(g.call(window,"ontouchstart")>=0)||e.vertical.oldScroll&&e.vertical.newScroll||t[p]("refresh"),t.each(e,function(e,n){var a,r,s;return s=[],r=n.newScroll>n.oldScroll,a=r?n.forward:n.backward,t.each(i.waypoints[e],function(t,e){var i,a;return n.oldScroll<(i=e.offset)&&i<=n.newScroll?s.push(e):n.newScroll<(a=e.offset)&&a<=n.oldScroll?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),r||s.reverse(),t.each(s,function(t,e){return e.options.continuous||t===s.length-1?e.trigger([a]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,i,n,a=this;return n=t.isWindow(this.element),i=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:n?0:i.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:i.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?t[p]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},t.each(e,function(e,i){return t.each(a.waypoints[e],function(e,n){var a,r,s,o,l;return a=n.options.offset,s=n.offset,r=t.isWindow(n.element)?0:n.$element.offset()[i.offsetProp],t.isFunction(a)?a=a.apply(n.element):"string"==typeof a&&(a=parseFloat(a),n.options.offset.indexOf("%")>-1&&(a=Math.ceil(i.contextDimension*a/100))),n.offset=r-i.contextOffset+i.contextScroll-a,n.options.onlyOnScroll&&null!=s||!n.enabled?void 0:null!==s&&s<(o=i.oldScroll)&&o<=n.offset?n.trigger([i.backward]):null!==s&&s>(l=i.oldScroll)&&l>=n.offset?n.trigger([i.forward]):null===s&&i.oldScroll>=n.offset?n.trigger([i.forward]):void 0})})},e.prototype.checkEmpty=function(){return t.isEmptyObject(this.waypoints.horizontal)&&t.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([u,d].join(" ")),delete o[this.id]):void 0},e}(),n=function(){function e(e,i,n){var r,s;n=t.extend({},t.fn[m].defaults,n),"bottom-in-view"===n.offset&&(n.offset=function(){var e;return e=t[p]("viewportHeight"),t.isWindow(i.element)||(e=i.$element.height()),e-t(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=i,this.enabled=n.enabled,this.id="waypoints"+h++,this.offset=null,this.options=n,i.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,r=null!=(s=e.data(f))?s:[],r.push(this.id),e.data(f,r)}return e.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()
},e.getWaypointsByElement=function(e){var i,n;return(n=t(e).data(f))?(i=t.extend({},a.horizontal,a.vertical),t.map(n,function(t){return i[t]})):[]},e}(),c={init:function(e,a){var r;return null==a&&(a={}),null==(r=a.handler)&&(a.handler=e),this.each(function(){var e,r,l,c;return e=t(this),l=null!=(c=a.context)?c:t.fn[m].defaults.context,t.isWindow(l)||(l=e.closest(l)),l=t(l),r=o[l.data(s)],r||(r=new i(l)),new n(e,r,a)}),t[p]("refresh"),this},disable:function(){return c._invoke(this,"disable")},enable:function(){return c._invoke(this,"enable")},destroy:function(){return c._invoke(this,"destroy")},prev:function(t,e){return c._traverse.call(this,t,e,function(t,e,i){return e>0?t.push(i[e-1]):void 0})},next:function(t,e){return c._traverse.call(this,t,e,function(t,e,i){return e<i.length-1?t.push(i[e+1]):void 0})},_traverse:function(e,i,n){var a,r;return null==e&&(e="vertical"),null==i&&(i=window),r=l.aggregate(i),a=[],this.each(function(){var i;return i=t.inArray(this,r[e]),n(a,i,r[e])}),this.pushStack(a)},_invoke:function(e,i){return e.each(function(){var e;return e=n.getWaypointsByElement(this),t.each(e,function(t,e){return e[i](),!0})}),this}},t.fn[m]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?v.call(arguments,1):[],c[i]?c[i].apply(this,e):t.isFunction(i)?c.init.apply(this,arguments):t.isPlainObject(i)?c.init.apply(this,[null,i]):t.error(i?"The "+i+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},t.fn[m].defaults={context:window,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},l={refresh:function(){return t.each(o,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=window.innerHeight)?t:e.height()},aggregate:function(e){var i,n,r;return i=a,e&&(i=null!=(r=o[t(e).data(s)])?r.waypoints:void 0),i?(n={horizontal:[],vertical:[]},t.each(n,function(e,a){return t.each(i[e],function(t,e){return a.push(e)}),a.sort(function(t,e){return t.offset-e.offset}),n[e]=t.map(a,function(t){return t.element}),n[e]=t.unique(n[e])}),n):[]},above:function(t){return null==t&&(t=window),l._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=window),l._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=window),l._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=window),l._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return l._invoke("enable")},disable:function(){return l._invoke("disable")},destroy:function(){return l._invoke("destroy")},extendFn:function(t,e){return c[t]=e},_invoke:function(e){var i;return i=t.extend({},a.vertical,a.horizontal),t.each(i,function(t,i){return i[e](),!0})},_filter:function(e,i,n){var a,r;return(a=o[t(e).data(s)])?(r=[],t.each(a.waypoints[i],function(t,e){return n(a,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),t.map(r,function(t){return t.element})):[]}},t[p]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?v.call(arguments,1):[],l[e]?l[e].apply(null,t):l.aggregate.call(null,e)},t[p].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return t[p]("refresh")})}.call(this);